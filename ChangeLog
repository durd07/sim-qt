diff --git a/main.cpp b/main.cpp
index 106c2ae..5cf30ea 100644
--- a/main.cpp
+++ b/main.cpp
@@ -1,11 +1,17 @@
 #include "sim_application.h"
 #include "main_window.h"
+#include "qconsole.h"
+#define _QT_GUI_LIB
 
 #ifdef __cplusplus
 extern "C" {
 #endif
+
+#ifdef _QT_GUI_LIB
 int simqt_main(int argc, char *argv[])
-//int main(int argc, char *argv[])
+#else
+int main(int argc, char *argv[])
+#endif
 {
     SimApplication sim_app(argc, argv);
     MainWindow *main_w;
diff --git a/main_window.cpp b/main_window.cpp
index f669fa0..2907d44 100644
--- a/main_window.cpp
+++ b/main_window.cpp
@@ -2,47 +2,21 @@
 #include "ui_main_window.h"
 #include "sim_application.h"
 #include <QLabel>
-
-static MainWindow *gbl_cur_main_window = NULL;
+#include <QHBoxLayout>
 
 MainWindow::MainWindow(QWidget *parent) :
     QMainWindow(parent),
     main_ui_(new Ui::MainWindow) {
-    gbl_cur_main_window = this;
     main_ui_->setupUi(this);
 
     //delete object when close() is called
     setAttribute(Qt::WA_DeleteOnClose);
     setAttribute(Qt::WA_QuitOnClose);
-#if 1                                   // fix me
-    QLabel *x = new QLabel("111          1");
-    x->setAlignment(Qt::AlignCenter);
-    x->setMinimumSize(x->sizeHint());
-    x->setFrameShape(QFrame::WinPanel);
-    x->setFrameShadow(QFrame::Sunken);
-
-    QLabel *y = new QLabel("222");
-    y->setAlignment(Qt::AlignCenter);
-    y->setMinimumSize(x->sizeHint());
-    y->setFrameShape(QFrame::WinPanel);
-    y->setFrameShadow(QFrame::Sunken);
-
-    QLabel *z = new QLabel("333");
-    z->setAlignment(Qt::AlignCenter);
-    z->setMinimumSize(x->sizeHint());
-    z->setFrameShape(QFrame::WinPanel);
-    z->setFrameShadow(QFrame::Sunken);
 
-    main_ui_->statusBar->addWidget(x, 0);
-    main_ui_->statusBar->addWidget(y, 1);
-    main_ui_->statusBar->addWidget(z, 2);
+    init_StatusBar();
 
-    x->setText(tr("baby baby"));
-    y->setText(tr("baby baby"));
-    z->setText(tr("baby baby"));
-#endif
     setFileMenu();
-
+    setToolsMenu();
 }
 
 void MainWindow::setFileMenu(void) {
@@ -63,12 +37,42 @@ void MainWindow::setFileMenu(void) {
     connect(main_ui_->actionChangeWorkspace, SIGNAL(triggered()),
             this, SLOT(changeWorkspace()));
     connect(main_ui_->actionExit, SIGNAL(triggered()),
-            simApp, SLOT(closeAllWindows()));
+            this, SLOT(close()));
+}
 
+void MainWindow::setToolsMenu(void) {
     connect(main_ui_->actionCommandLineWindow, SIGNAL(triggered()),
             this, SLOT(openCommandLineWindow()));
+
 }
 
+void MainWindow::init_StatusBar(void) {
+    QLabel *x = new QLabel(" W999 ");
+    x->setAlignment(Qt::AlignCenter);
+    x->setMinimumSize(x->sizeHint());
+    x->setFrameShape(QFrame::WinPanel);
+    x->setFrameShadow(QFrame::Sunken);
+
+    QLabel *y = new QLabel("222");
+    y->setAlignment(Qt::AlignCenter);
+    y->setMinimumSize(y->sizeHint());
+    y->setFrameShape(QFrame::WinPanel);
+    y->setFrameShadow(QFrame::Sunken);
+
+    QLabel *z = new QLabel("333");
+    z->setAlignment(Qt::AlignCenter);
+    z->setMinimumSize(z->sizeHint());
+    z->setFrameShape(QFrame::WinPanel);
+    z->setFrameShadow(QFrame::Sunken);
+
+    main_ui_->statusBar->addWidget(x, 0);
+    main_ui_->statusBar->addWidget(y, 1);
+    main_ui_->statusBar->addWidget(z, 2);
+
+    x->setText(tr("baby baby"));
+    y->setText(tr("baby baby"));
+    z->setText(tr("baby baby"));
+}
 MainWindow::~MainWindow() {
     delete main_ui_;
 }
diff --git a/main_window.h b/main_window.h
index 6afa320..d7c5b9a 100644
--- a/main_window.h
+++ b/main_window.h
@@ -2,9 +2,6 @@
 #define MAIN_WINDOW_H
 
 #include <QMainWindow>
-#include "open_checkpoint_dialog.h"
-#include "create_workspace_dialog.h"
-#include "open_command_line_window_dialog.h"
 
 namespace Ui {
     class MainWindow;
@@ -22,10 +19,14 @@ private:
     void setEditMenu(void);
     void setRunMenu(void);
     void setDebugMenu(void);
+    void setToolsMenu(void);
     void setWindowMenu(void);
     void setHelpMenu(void);
+
+    void init_StatusBar(void);
 signals:
 private slots:
+    //File Menu
     void newEmptySession(void);
     void newSessionFromScript(void);
     void openCheckpoint(void);
@@ -38,14 +39,10 @@ private slots:
     void createWorkspace(void);
     void changeWorkspace(void);
 
+    //Tool Menu
     void openCommandLineWindow(void);
 
 private:
-    void setToolsMenu(void);
-signals:
-private slots:
-
-private:
     Ui::MainWindow *main_ui_;
 };
 
diff --git a/main_window.ui b/main_window.ui
index 21422aa..de90b84 100644
--- a/main_window.ui
+++ b/main_window.ui
@@ -33,7 +33,7 @@
      <x>0</x>
      <y>0</y>
      <width>407</width>
-     <height>23</height>
+     <height>19</height>
     </rect>
    </property>
    <widget class="QMenu" name="menuFile">
diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
index 77413ff..7c9fcea 100644
--- a/main_window_file_slots.cpp
+++ b/main_window_file_slots.cpp
@@ -1,5 +1,6 @@
 #include <QFileDialog>
 #include "main_window.h"
+#include "open_checkpoint_dialog.h"
 
 void MainWindow::newEmptySession(void) {
     MainWindow *new_mainWindow = new(MainWindow);
@@ -13,12 +14,19 @@ void MainWindow::newSessionFromScript(void) {
                                                       ".",
                                                       tr("Script files (*.sim)"));
     if (!scriptName.isEmpty()) {
-
+        // TODO
     }
 }
 void MainWindow::openCheckpoint(void) {
     OpenCheckpointDialog open_checkpoint_dialog;
-    open_checkpoint_dialog.exec();
+
+    if(QDialog::Accepted == open_checkpoint_dialog.exec()) {
+        QString checkpoint_name = open_checkpoint_dialog.GetCheckpointName();
+
+        if (!checkpoint_name.isEmpty()) {
+            // TODO
+        }
+    }
 }
 
 bool MainWindow::saveCheckpoint(void) {
@@ -31,13 +39,20 @@ void MainWindow::appendFromScript(void) {
                                                       ".",
                                                       tr("Script files (*.sim)"));
     if (!scriptName.isEmpty()) {
-
+        // TODO
     }
 }
 
 void MainWindow::appendFromCheckpoint(void) {
     OpenCheckpointDialog open_checkpoint_dialog;
-    open_checkpoint_dialog.exec();
+
+    if(QDialog::Accepted == open_checkpoint_dialog.exec()) {
+        QString checkpoint_name = open_checkpoint_dialog.GetCheckpointName();
+
+        if (!checkpoint_name.isEmpty()) {
+            // TODO
+        }
+    }
 }
 
 bool MainWindow::loadPresistentState(void) {
@@ -83,7 +98,7 @@ void MainWindow::changeWorkspace(void) {
     | QFileDialog::DontResolveSymlinks);
 
     if (!workspace_path.isEmpty()) {
-
+        // TODO
     }
 #endif
 }
diff --git a/open_checkpoint_dialog.cpp b/open_checkpoint_dialog.cpp
index b0a69a7..92af5ae 100644
--- a/open_checkpoint_dialog.cpp
+++ b/open_checkpoint_dialog.cpp
@@ -11,6 +11,8 @@ OpenCheckpointDialog::OpenCheckpointDialog(QDialog *parent) :
     open_checkpoint_dialog_ui_(new Ui::OpenCheckpointDialog) {
     open_checkpoint_dialog_ui_->setupUi(this);
 
+    m_checkpoint_name = tr("");
+
 #ifdef _USE_DIRMODEL
     FileSysmodel = new QDirModel();
     FileSysmodel->setSorting(QDir::DirsFirst | QDir::IgnoreCase | QDir::Name);
@@ -18,7 +20,8 @@ OpenCheckpointDialog::OpenCheckpointDialog(QDialog *parent) :
     FileSysmodel = new QFileSystemModel();
     FileSysmodel->sort(0);
 #endif
-    FileSysmodel->setFilter(QDir::AllDirs | QDir::AllEntries | QDir::Drives | QDir::NoDotAndDotDot);
+    FileSysmodel->setFilter(
+                QDir::AllDirs | QDir::AllEntries | QDir::Drives | QDir::NoDotAndDotDot);
     FileSysmodel->setNameFilters(QStringList(QString("*.xml")));
 
 #ifdef _USE_DIRMODEL
@@ -31,13 +34,20 @@ OpenCheckpointDialog::OpenCheckpointDialog(QDialog *parent) :
     initSelectDirectoryComboBox(modelIndex);
     showFileInfoList(modelIndex);
 
-    connect(open_checkpoint_dialog_ui_->CheckpointDirectoryListView,SIGNAL(doubleClicked(QModelIndex )),this,SLOT(slotShowDir(QModelIndex )));
-    connect(open_checkpoint_dialog_ui_->CheckpointDirectoryListView,SIGNAL(clicked(QModelIndex)),this,SLOT(slotOpenEnable(QModelIndex)));
-    connect(open_checkpoint_dialog_ui_->SelectDirectoryComboBox, SIGNAL(activated(int)), this, SLOT(slotSelectDirectoryChanged(int)));
-    connect(open_checkpoint_dialog_ui_->UpButton, SIGNAL(clicked()), this, SLOT(slotUPButton()));
-    connect(open_checkpoint_dialog_ui_->SimCheckpointComboBox, SIGNAL(activated(int)), this, SLOT(slotSimCheckpointComboBox(int)));
-    connect(open_checkpoint_dialog_ui_->OpenButton, SIGNAL(clicked()), this, SLOT(slotOpen()));
-    connect(open_checkpoint_dialog_ui_->CancelButton, SIGNAL(clicked()), this, SLOT(close()));
+    connect(open_checkpoint_dialog_ui_->CheckpointDirectoryListView,SIGNAL(doubleClicked(QModelIndex )),
+            this,SLOT(slotShowDir(QModelIndex )));
+    connect(open_checkpoint_dialog_ui_->CheckpointDirectoryListView,SIGNAL(clicked(QModelIndex)),
+            this,SLOT(slotOpenEnable(QModelIndex)));
+    connect(open_checkpoint_dialog_ui_->SelectDirectoryComboBox, SIGNAL(activated(int)),
+            this, SLOT(slotSelectDirectoryChanged(int)));
+    connect(open_checkpoint_dialog_ui_->UpButton, SIGNAL(clicked()),
+            this, SLOT(slotUPButton()));
+    connect(open_checkpoint_dialog_ui_->SimCheckpointComboBox, SIGNAL(activated(int)),
+            this, SLOT(slotSimCheckpointComboBox(int)));
+    connect(open_checkpoint_dialog_ui_->OpenButton, SIGNAL(clicked()),
+            this, SLOT(slotOpen()));
+    connect(open_checkpoint_dialog_ui_->CancelButton, SIGNAL(clicked()),
+            this, SLOT(close()));
 }
 
 OpenCheckpointDialog::~OpenCheckpointDialog() {
@@ -51,14 +61,20 @@ void OpenCheckpointDialog::initSelectDirectoryComboBox(QModelIndex index)
     int i = 0;
     QModelIndex tempindex = index;
     while(!FileSysmodel->fileName(tempindex).isEmpty()){
-        open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(i, FileSysmodel->fileName(tempindex), FileSysmodel->filePath(tempindex));
+        open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(
+                    i, FileSysmodel->fileName(tempindex), FileSysmodel->filePath(tempindex));
         tempindex = FileSysmodel->parent(tempindex);
         i++;
     }
-    open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(i, "Compter", "My\ Computer");
+    open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(
+                i, "Compter", "My\ Computer");
 }
 
 void OpenCheckpointDialog::showFileInfoList(QModelIndex index){
     open_checkpoint_dialog_ui_->CheckpointDirectoryListView->setRootIndex(index);
     open_checkpoint_dialog_ui_->OpenButton->setEnabled(false);
 }
+
+QString OpenCheckpointDialog::GetCheckpointName() {
+    return m_checkpoint_name;
+}
diff --git a/open_checkpoint_dialog.h b/open_checkpoint_dialog.h
index 6045e17..a925d2a 100644
--- a/open_checkpoint_dialog.h
+++ b/open_checkpoint_dialog.h
@@ -1,11 +1,13 @@
 #ifndef OPEN_CHECKPOINT_DIALOG_H
 #define OPEN_CHECKPOINT_DIALOG_H
 
+#include <QString>
 #include <QDialog>
 #include <QDirModel>
 #include <QFileSystemModel>
 
 #define _USE_DIRMODEL
+
 namespace Ui {
     class OpenCheckpointDialog;
 }
@@ -16,9 +18,13 @@ class OpenCheckpointDialog : public QDialog {
 public:
     explicit OpenCheckpointDialog(QDialog *parent = 0);
     ~OpenCheckpointDialog();
+
+    QString GetCheckpointName();
+
 private:
     void initSelectDirectoryComboBox(QModelIndex index);
     void showFileInfoList(QModelIndex index);
+
 private slots:
     void slotShowDir(QModelIndex index);
     void slotSelectDirectoryChanged(int index);
@@ -26,6 +32,7 @@ private slots:
     void slotSimCheckpointComboBox(int index);
     void slotOpenEnable(QModelIndex);
     void slotOpen(void);
+
 private:
     Ui::OpenCheckpointDialog *open_checkpoint_dialog_ui_;
 #ifdef _USE_DIRMODEL
@@ -33,6 +40,7 @@ private:
 #else
     QFileSystemModel *FileSysmodel;
 #endif
+    QString m_checkpoint_name;
 };
 
 #endif
diff --git a/open_checkpoint_dialog_slots.cpp b/open_checkpoint_dialog_slots.cpp
index 78c09c0..3197eb5 100644
--- a/open_checkpoint_dialog_slots.cpp
+++ b/open_checkpoint_dialog_slots.cpp
@@ -1,19 +1,19 @@
-#include <QMessageBox>
 #include "open_checkpoint_dialog.h"
 #include "ui_open_checkpoint_dialog.h"
 
 void OpenCheckpointDialog::slotShowDir(QModelIndex index){
     if(FileSysmodel->isDir(index))
     {
-        open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(0, FileSysmodel->fileName(index), FileSysmodel->filePath(index));
+        open_checkpoint_dialog_ui_->SelectDirectoryComboBox->insertItem(
+                    0, FileSysmodel->fileName(index), FileSysmodel->filePath(index));
         open_checkpoint_dialog_ui_->SelectDirectoryComboBox->setCurrentIndex(0);
         showFileInfoList(index);
     }
     else //file
     {
         QString FileObsolutePath = FileSysmodel->filePath(index);
-        QMessageBox::warning(this, "Message", FileObsolutePath, QMessageBox::Ok);
-        close();
+        m_checkpoint_name = FileObsolutePath;
+        accept();
     }
 }
 
@@ -29,9 +29,11 @@ void OpenCheckpointDialog::slotSelectDirectoryChanged(int index)
 void OpenCheckpointDialog::slotUPButton()
 {
     if(open_checkpoint_dialog_ui_->SelectDirectoryComboBox->count() > 1){
-        slotSelectDirectoryChanged(open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex() + 1);
+        slotSelectDirectoryChanged(
+                    open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex() + 1);
     }else{
-        //slotSelectDirectoryChanged(open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex());
+        //slotSelectDirectoryChanged(
+        //  open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex());
     }
 }
 
@@ -42,7 +44,8 @@ void OpenCheckpointDialog::slotSimCheckpointComboBox(int index)
 
     FileSysmodel->setNameFilters(string);
 
-    QVariant ItemData = open_checkpoint_dialog_ui_->SelectDirectoryComboBox->itemData(open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex());
+    QVariant ItemData = open_checkpoint_dialog_ui_->SelectDirectoryComboBox->itemData(
+                open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex());
     QString ItemString = ItemData.value<QString>();
 
     showFileInfoList(FileSysmodel->index(ItemString));
diff --git a/open_command_line_window_dialog.cpp b/open_command_line_window_dialog.cpp
index 1ce801d..6ead291 100644
--- a/open_command_line_window_dialog.cpp
+++ b/open_command_line_window_dialog.cpp
@@ -3,7 +3,7 @@
 #include <QVBoxLayout>
 
 OpenCommandLineWindowDialog::OpenCommandLineWindowDialog(QWidget *parent) :
-    QWidget(parent){
+    QWidget(parent) {
     QSimConsole *console = QSimConsole::getInstance(this);
     this->setFocusProxy((QWidget*)console);
     this->setMinimumSize(640, 480);
diff --git a/qconsole.cpp b/qconsole.cpp
index 1e0313c..52ae39b 100644
--- a/qconsole.cpp
+++ b/qconsole.cpp
@@ -48,8 +48,6 @@ QSize PopupListWidget::sizeHint() const
         const int vOffset = top + bottom;
         const int hOffset = left + right;
 
-
-
         bool vScrollOn = false;
         int height = 0;
         int width = 0;
@@ -209,9 +207,10 @@ void QConsole::reset(const QString &welcomeText)
         f.setFamily("Courier");
         setCurrentFont(f);
 #endif
-
+        setTextColor(QColor("blue"));
         append(welcomeText);
         append("");
+        setTextColor(QApplication::palette().text().color());
 
         //init attributes
         historyIndex = 0;
@@ -230,45 +229,45 @@ QConsole::QConsole(QWidget *parent, const QString &welcomeText)
     //Disable undo/redo
     setUndoRedoEnabled(false);
 
-
     //Disable context menu
     //This menu is useful for undo/redo, cut/copy/paste, del, select all,
     // see function QConsole::contextMenuEvent(...)
     //setContextMenuPolicy(Qt::NoContextMenu);
 
-
     //resets the console
     reset(welcomeText);
-        const int tabwidth = QFontMetrics(currentFont()).width('a') * 4;
-        setTabStopWidth(tabwidth);}
+    const int tabwidth = QFontMetrics(currentFont()).width('a') * 4;
+    setTabStopWidth(tabwidth);
+}
 
 //Sets the prompt and cache the prompt length to optimize the processing speed
 void QConsole::setPrompt(const QString &newPrompt, bool display)
 {
-        prompt = newPrompt;
-        promptLength = prompt.length();
-        //display the new prompt
-        if (display)
-            displayPrompt();
+    prompt = newPrompt;
+    promptLength = prompt.length();
+    //display the new prompt
+    if (display)
+        displayPrompt();
 }
 
-
 //Displays the prompt and move the cursor to the end of the line.
 void QConsole::displayPrompt()
 {
-        //Prevent previous text displayed to be undone
-        setUndoRedoEnabled(false);
-        //displays the prompt
-        setTextColor(cmdColor_);
-        QTextCursor cur = textCursor();
-        cur.insertText(prompt);
-        cur.movePosition(QTextCursor::EndOfLine);
-        setTextCursor(cur);
-        //Saves the paragraph number of the prompt
-        promptParagraph = cur.blockNumber();
-
-        //Enable undo/redo for the actual command
-        setUndoRedoEnabled(true);
+    //Prevent previous text displayed to be undone
+    setUndoRedoEnabled(false);
+    //displays the prompt
+    //setTextColor(cmdColor_);
+    setTextColor(QColor("red"));
+    QTextCursor cur = textCursor();
+    cur.insertText(prompt);
+    setTextColor(cmdColor_);
+    cur.movePosition(QTextCursor::EndOfLine);
+    setTextCursor(cur);
+    //Saves the paragraph number of the prompt
+    promptParagraph = cur.blockNumber();
+    setTextColor(cmdColor_);
+    //Enable undo/redo for the actual command
+    setUndoRedoEnabled(true);
 }
 
 void QConsole::setFont(const QFont& f) {
@@ -281,8 +280,6 @@ void QConsole::setFont(const QFont& f) {
         setTextCursor(oldCursor);
 }
 
-
-
 //Give suggestions to autocomplete a command (should be reimplemented)
 //the return value of the function is the string list of all suggestions
 QStringList QConsole::suggestCommand(const QString&, QString& prefix)
@@ -313,7 +310,6 @@ void QConsole::handleTabKeyPress()
                         replaceCurrentCommand(commandPrefix + popup->selected());
                 delete popup;
 #else
-
                 setTextColor(completionColor);
                 append(sl.join(", ") + "\n");
                 setTextColor(cmdColor());
@@ -327,7 +323,7 @@ void QConsole::handleTabKeyPress()
 // If return pressed, do the evaluation and append the result
 void QConsole::handleReturnKeyPress()
 {
-        //Get the command to validate
+    //Get the command to validate
     QString command = getCurrentCommand();
     //execute the command and get back its text result and its return value
     if (isCommandComplete(command))
@@ -392,8 +388,7 @@ void QConsole::setHome(bool select)
                                                                                                                         QTextCursor::MoveAnchor);
         if(textCursor().blockNumber() == promptParagraph)
         {
-            cursor.movePosition(QTextCursor::Right, select ? QTextCursor::KeepAnchor :
-                                                                                                             QTextCursor::MoveAnchor,
+            cursor.movePosition(QTextCursor::Right, select ? QTextCursor::KeepAnchor :                                                                                                            QTextCursor::MoveAnchor,
                                                     promptLength);
         }
         setTextCursor(cursor);
@@ -650,7 +645,8 @@ bool QConsole::execCommand(const QString &command, bool writeCommand,
         moveCursor(QTextCursor::End);
         //Display the prompt again
         if (showPrompt)
-            displayPrompt();*/
+            displayPrompt();
+*/
         return !res;
 }
 
diff --git a/qconsole.h b/qconsole.h
index 66bb2ea..2ab51d1 100644
--- a/qconsole.h
+++ b/qconsole.h
@@ -104,7 +104,7 @@ class QConsole : public QTextEdit
 public:
         //constructor
         QConsole(QWidget *parent = NULL, const QString &welcomeText = "");
-        //set the prompt of the console 显示提示符“<<<”
+        //set the prompt of the console 显示提示符
         void setPrompt(const QString &prompt, bool display = true);
         //execCommand(QString) executes the command and displays back its result
         bool execCommand(const QString &command, bool writeCommand = true,
diff --git a/tsh_if.c b/tsh_if.c
index 8f60b49..c0ce2f5 100644
--- a/tsh_if.c
+++ b/tsh_if.c
@@ -14,11 +14,9 @@ static char* output_buffer = NULL;
 
 int init_redestration() {
     output_buffer = (char*)malloc(sizeof(char) * MAX_BUFFERSIZE);
-    if(output_buffer == NULL)
-    {
+    if(output_buffer == NULL) {
         return -1;
     }
-
     return 0;
 }
 
@@ -53,4 +51,3 @@ char* get_output() {
     }
     return output_buffer;
 }
-
=====================================================
commit fdedea25aa6e0fa96182be3a760fa048fef72443
Author: durd07 <durd07@gmial.com>
Date:   Wed Nov 6 00:34:01 2013 +0800

    change main.c form . to ->

diff --git a/main.cpp b/main.cpp
index 9ddf12b..106c2ae 100644
--- a/main.cpp
+++ b/main.cpp
@@ -13,7 +13,7 @@ int simqt_main(int argc, char *argv[])
     main_w = new(MainWindow);
     main_w->show();
 
-    return simApp.exec();
+    return simApp->exec();
 }
 
 #ifdef __cplusplus
=====================================================
commit bdd9ab70688ae762587d0e17dca3584d187a83e6
Author: durd07 <durd07@gmial.com>
Date:   Wed Nov 6 00:18:45 2013 +0800

    polished

diff --git a/main.cpp b/main.cpp
index 6b1ac0e..9ddf12b 100644
--- a/main.cpp
+++ b/main.cpp
@@ -13,7 +13,7 @@ int simqt_main(int argc, char *argv[])
     main_w = new(MainWindow);
     main_w->show();
 
-    return sim_app.exec();
+    return simApp.exec();
 }
 
 #ifdef __cplusplus
diff --git a/qsim_console.cpp b/qsim_console.cpp
index 0bad61e..acab29a 100644
--- a/qsim_console.cpp
+++ b/qsim_console.cpp
@@ -41,10 +41,6 @@ extern "C" {
 #endif
 #include <QDebug>
 
-#include <string.h>
-#include <unistd.h>
-#include <fcntl.h>
-
 QString resultString;
 
 void QSimConsole::printHistory()
diff --git a/sim-qt.pro b/sim-qt.pro
index 93f8b79..3967b64 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -26,7 +26,7 @@ SOURCES += main.cpp\
 	qconsole.cpp \
 	qsim_console.cpp \
 	main_window_tool_slots.cpp \
-    tsh_if.c
+        tsh_if.c
 
 HEADERS += main_window.h\
 	sim_application.h\
diff --git a/sim_application.h b/sim_application.h
index 82a6215..48ae12a 100644
--- a/sim_application.h
+++ b/sim_application.h
@@ -10,7 +10,6 @@ public:
 
 private:
 
-
 signals:
     void newSessionFromScript(QString &ss_path);
 
=====================================================
commit 3bd31c7b8d01103e7f22f2f5991743a7af2ca67d
Author: durd <durd@bogon.localdomain>
Date:   Tue Nov 5 17:25:57 2013 +0800

    complete the core develop of commandline window
    
    1. polished the tsh api for call;
    2. commandline window can execute command normally "cd" is work OK;
    
    NOT work
    1. can't recogisze '\r' just append next line;
    2. can't distinwish color;

diff --git a/main.cpp b/main.cpp
index 106c2ae..6b1ac0e 100644
--- a/main.cpp
+++ b/main.cpp
@@ -13,7 +13,7 @@ int simqt_main(int argc, char *argv[])
     main_w = new(MainWindow);
     main_w->show();
 
-    return simApp->exec();
+    return sim_app.exec();
 }
 
 #ifdef __cplusplus
diff --git a/main_window.cpp b/main_window.cpp
index b41b627..f669fa0 100644
--- a/main_window.cpp
+++ b/main_window.cpp
@@ -13,6 +13,7 @@ MainWindow::MainWindow(QWidget *parent) :
 
     //delete object when close() is called
     setAttribute(Qt::WA_DeleteOnClose);
+    setAttribute(Qt::WA_QuitOnClose);
 #if 1                                   // fix me
     QLabel *x = new QLabel("111          1");
     x->setAlignment(Qt::AlignCenter);
diff --git a/main_window.h b/main_window.h
index 8b05a05..6afa320 100644
--- a/main_window.h
+++ b/main_window.h
@@ -47,8 +47,6 @@ private slots:
 
 private:
     Ui::MainWindow *main_ui_;
-
-    OpenCommandLineWindowDialog open_command_line_window_dialog;
 };
 
 #endif
diff --git a/main_window_tool_slots.cpp b/main_window_tool_slots.cpp
index 4dbe438..5f316cb 100644
--- a/main_window_tool_slots.cpp
+++ b/main_window_tool_slots.cpp
@@ -6,14 +6,5 @@
 void MainWindow::openCommandLineWindow(void)
 {
     OpenCommandLineWindowDialog *command_line_window = new OpenCommandLineWindowDialog;
- //   command_line_window->setMinimumSize(640, 480);
-    //Instantiate and set the focus to the QPyConsole
- //   QSimConsole *console = QSimConsole::getInstance(command_line_window);
- //   command_line_window->setFocusProxy((QWidget*)console);
-  //  command_line_window->setCentralWidget((QWidget*)console);
     command_line_window->show();
-
-
-    //QSimConsole::getInstance(MainWindow, tr("Welcome to simics!"));
-
 }
diff --git a/open_command_line_window_dialog.cpp b/open_command_line_window_dialog.cpp
index 52bd36b..1ce801d 100644
--- a/open_command_line_window_dialog.cpp
+++ b/open_command_line_window_dialog.cpp
@@ -8,11 +8,11 @@ OpenCommandLineWindowDialog::OpenCommandLineWindowDialog(QWidget *parent) :
     this->setFocusProxy((QWidget*)console);
     this->setMinimumSize(640, 480);
     this->setWindowTitle(tr("Simics Command Line"));
+    this->setAttribute(Qt::WA_QuitOnClose, false);
 
     layout = new QVBoxLayout;
     layout->addWidget(console);
     this->setLayout(layout);
-
 }
 
 OpenCommandLineWindowDialog::~OpenCommandLineWindowDialog() {
diff --git a/qconsole.cpp b/qconsole.cpp
index 4327063..1e0313c 100644
--- a/qconsole.cpp
+++ b/qconsole.cpp
@@ -633,9 +633,10 @@ bool QConsole::execCommand(const QString &command, bool writeCommand,
         }
         //execute the command and get back its text result and its return value
         int res = 0;
+
         QString strRes = interpretCommand(modifiedCommand, &res);
         //According to the return value, display the result either in red or in blue
-        if (res == 0)
+/*        if (res == 0)
                 setTextColor(outColor_);
         else
                 setTextColor(errColor_);
@@ -649,7 +650,7 @@ bool QConsole::execCommand(const QString &command, bool writeCommand,
         moveCursor(QTextCursor::End);
         //Display the prompt again
         if (showPrompt)
-            displayPrompt();
+            displayPrompt();*/
         return !res;
 }
 
diff --git a/qsim_console.cpp b/qsim_console.cpp
index b2fa4d4..0bad61e 100644
--- a/qsim_console.cpp
+++ b/qsim_console.cpp
@@ -41,6 +41,10 @@ extern "C" {
 #endif
 #include <QDebug>
 
+#include <string.h>
+#include <unistd.h>
+#include <fcntl.h>
+
 QString resultString;
 
 void QSimConsole::printHistory()
@@ -79,24 +83,21 @@ char save_error_type[1024], save_error_info[1024];
 //Desctructor
 QSimConsole::~QSimConsole()
 {
+    destroy_redestration();
 }
 
 //Call the Python interpreter to execute the command
 //retrieve back results using the python internal stdout/err redirectory (see above)
 QString QSimConsole::interpretCommand(const QString &command, int *res)
 {
-    bool multiline=false;
     *res = 0;
-/*    if (!command.startsWith('#') && (!command.isEmpty() || (command.isEmpty() && lines!=0)))
-    {
-        this->command.append(command);
-
-        // exec
-    }*/
     char* cmd = command.toLatin1().data();
-    char* result = exec_command(cmd);
-    return QString(result);
-        //return "";
+
+    set_socket_nonblock(::parent);
+    exec_command(cmd);
+    append("");
+    myTimerId = startTimer(300);
+    return "";
 }
 
 QStringList QSimConsole::suggestCommand(const QString &cmd, QString& prefix)
@@ -130,5 +131,23 @@ QStringList QSimConsole::suggestCommand(const QString &cmd, QString& prefix)
     return list;
 }
 
-
+void QSimConsole::timerEvent(QTimerEvent *event)
+{
+    if(event->timerId() == myTimerId) {
+        char* buffer = get_output();
+        insertPlainText(buffer);
+    }
+    else {
+        QWidget::timerEvent(event);
+    }
+    if(exec_process_over) {
+        killTimer(myTimerId);
+        myTimerId = 0;
+
+        moveCursor(QTextCursor::End);
+        //Display the prompt again
+        displayPrompt();
+        return;
+    }
+}
 
diff --git a/qsim_console.h b/qsim_console.h
index c1181b7..af165c4 100644
--- a/qsim_console.h
+++ b/qsim_console.h
@@ -54,7 +54,7 @@ protected:
 
     void setNormalPrompt(bool display) { setPrompt("simics# ", display); }
     void setMultilinePrompt(bool display) { setPrompt("...", display); }
-
+    void timerEvent(QTimerEvent *event);
 private:
 
     //The instance
@@ -66,6 +66,8 @@ private:
 
     // number of lines associated with current command
     int lines;
+
+    int myTimerId;
 };
 
 #endif
diff --git a/sim_application.h b/sim_application.h
index 48ae12a..82a6215 100644
--- a/sim_application.h
+++ b/sim_application.h
@@ -10,6 +10,7 @@ public:
 
 private:
 
+
 signals:
     void newSessionFromScript(QString &ss_path);
 
diff --git a/tsh_if.c b/tsh_if.c
index 0d6d966..8f60b49 100644
--- a/tsh_if.c
+++ b/tsh_if.c
@@ -4,31 +4,53 @@
  **  E-mail      : xhyz008@163.com
  **  Created Time: Mon Oct 28 15:09:40 2013
  *******************************************************************************/
+#include <stdlib.h>
 #include <string.h>
 #include <unistd.h>
+#include <fcntl.h>
+#include "tsh_if.h"
 
-extern int parent;
+static char* output_buffer = NULL;
 
-static char buffer[10000];
+int init_redestration() {
+    output_buffer = (char*)malloc(sizeof(char) * MAX_BUFFERSIZE);
+    if(output_buffer == NULL)
+    {
+        return -1;
+    }
 
-void init_redestration() {
+    return 0;
+}
 
+int destroy_redestration() {
+    free(output_buffer);
+    return 0;
 }
 
-void destroy_redestration() {
+int set_socket_nonblock(int fd)
+{
+    int flag = fcntl(fd,F_GETFL,0);
+    if(-1 == fcntl(fd, F_SETFL, flag | O_NONBLOCK)) {
+        return -1;
+    }
+    return 0;
 }
 
-char* exec_command(char* cmd) {
+int exec_command(char* cmd) {
     if(write(parent, cmd, strlen(cmd)) < 0) {
         perror("write error!");
-        return NULL;
+        return -1;
     }
+    return 0;
+}
 
-    memset(buffer, 0, sizeof(buffer));
-    if(read(parent, buffer, sizeof(buffer)) < 0) {
-        perror("read error!");
+char* get_output() {
+    memset(output_buffer, 0, sizeof(char) * MAX_BUFFERSIZE);
+    if(read(parent, output_buffer, sizeof(char) * MAX_BUFFERSIZE) < 0)
+    {
+        perror("read");
         return NULL;
     }
-    return buffer;
+    return output_buffer;
 }
 
diff --git a/tsh_if.h b/tsh_if.h
index 7aa5aab..b28c132 100644
--- a/tsh_if.h
+++ b/tsh_if.h
@@ -7,9 +7,15 @@
 #ifndef TSH_IF_H
 #define TSH_IF_H
 
-void init_redestration();
-void destroy_redestration();
-char* exec_command(char* cmd);
+#define MAX_BUFFERSIZE 4096
+extern int exec_process_over;
+extern int parent;
+
+int init_redestration();
+int destroy_redestration();
+int set_socket_nonblock(int fd);
+int exec_command(char* cmd);
+char* get_output();
 
 #endif
 
=====================================================
commit 110bdff6c06466a6482314213793c41a85666028
Author: durd <durd@bogon.localdomain>
Date:   Mon Nov 4 17:41:57 2013 +0800

    modify the exec_command for work OK.

diff --git a/ChangeLog b/ChangeLog
index 0b84325..7942b04 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,404 @@
+diff --git a/ChangeLog b/ChangeLog
+index 0b84325..eafceb0 100644
+--- a/ChangeLog
++++ b/ChangeLog
+@@ -1,3 +1,134 @@
++diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
++index fdd7761..c7ade15 100644
++--- a/open_command_line_window_dialog_slots.cpp
+++++ b/open_command_line_window_dialog_slots.cpp
++@@ -1,5 +1,5 @@
++ #include "open_command_line_window_dialog.h"
++-#include "ui_cli.h"
+++//#include "ui_cli.h"
++ /*
++ void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
++     this->show();
++diff --git a/sim-qt.pro b/sim-qt.pro
++index 5742f13..93f8b79 100644
++--- a/sim-qt.pro
+++++ b/sim-qt.pro
++@@ -26,7 +26,7 @@ SOURCES += main.cpp\
++ 	qconsole.cpp \
++ 	qsim_console.cpp \
++ 	main_window_tool_slots.cpp \
++-	tsh_if.cpp
+++    tsh_if.c
++ 
++ HEADERS += main_window.h\
++ 	sim_application.h\
++diff --git a/tsh_if.c b/tsh_if.c
++index 0aeec7a..0d6d966 100644
++--- a/tsh_if.c
+++++ b/tsh_if.c
++@@ -4,66 +4,31 @@
++  **  E-mail      : xhyz008@163.com
++  **  Created Time: Mon Oct 28 15:09:40 2013
++  *******************************************************************************/
++-#include <stdlib.h>
++-#include <stdio.h>
++ #include <string.h>
++ #include <unistd.h>
++-#include <QFile>
++-#include <iostream>
++-#include <QTextStream>
++ 
++-using namespace std;
++-#ifdef __cplusplus
++-extern "C" {
++-#endif
+++extern int parent;
++ 
++-#include "tsh_if.h"
+++static char buffer[10000];
++ 
++-#ifdef __cplusplus
++-}
++-#endif
++-
++-int oldstdin;
++-int oldstdout;
++-int oldstderr;
++-int inpipe[2];
++-int outpipe[2];
++-int errpipe[2];
+++void init_redestration() {
++ 
++-const int BUFSIZE=500000;
++-char buffer[10000];
++-int read_from_stdin = 1;
++-
++-FILE* stdout_id;
++-FILE* stdin_id;
++-void init_redestration()
++-{
++-    //read_from_stdin = 1;
++-	oldstdin = dup(0);
++-    oldstdout = dup(1);
++-    oldstderr = dup(2);
++-	pipe( inpipe );
++-    pipe( outpipe );
++-    pipe( errpipe );
++-	dup2( inpipe[0], 0);
++-    dup2( outpipe[1], 1 );
++-    dup2( errpipe[1], 2 );
++-    close(inpipe[0]);
++-    close(outpipe[1]);
++-    close(errpipe[1]);
++ }
++ 
++-void destroy_redestration()
++-{
++-    //read_from_stdin = 1;
+++void destroy_redestration() {
++ }
++ 
++-char* exec_command(char* cmd)
++-{
++-	int count = 0;
++-    count = write( inpipe[1] , cmd, 10000);
+++char* exec_command(char* cmd) {
+++    if(write(parent, cmd, strlen(cmd)) < 0) {
+++        perror("write error!");
+++        return NULL;
+++    }
+++
++     memset(buffer, 0, sizeof(buffer));
++-    count = read( outpipe[0] , buffer, 10000 );
+++    if(read(parent, buffer, sizeof(buffer)) < 0) {
+++        perror("read error!");
+++        return NULL;
+++    }
++     return buffer;
++ }
++ 
++diff --git a/tsh_if.h b/tsh_if.h
++index 0883e4b..7aa5aab 100644
++--- a/tsh_if.h
+++++ b/tsh_if.h
++@@ -7,9 +7,8 @@
++ #ifndef TSH_IF_H
++ #define TSH_IF_H
++ 
++-
++-
++ void init_redestration();
+++void destroy_redestration();
++ char* exec_command(char* cmd);
++ 
++ #endif
++=====================================================
++commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
++Author: durd07 <durd07@gmial.com>
++Date:   Thu Oct 31 23:27:33 2013 +0800
++
++    add new files
++
+ =====================================================
+ commit 5ed537d4cb5a084b6930a7ab0f48ffe98efc8ec3
+ Author: durd07 <durd07@gmial.com>
+diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
+index fdd7761..c7ade15 100644
+--- a/open_command_line_window_dialog_slots.cpp
++++ b/open_command_line_window_dialog_slots.cpp
+@@ -1,5 +1,5 @@
+ #include "open_command_line_window_dialog.h"
+-#include "ui_cli.h"
++//#include "ui_cli.h"
+ /*
+ void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
+     this->show();
+diff --git a/sim-qt.pro b/sim-qt.pro
+index 5742f13..93f8b79 100644
+--- a/sim-qt.pro
++++ b/sim-qt.pro
+@@ -26,7 +26,7 @@ SOURCES += main.cpp\
+ 	qconsole.cpp \
+ 	qsim_console.cpp \
+ 	main_window_tool_slots.cpp \
+-	tsh_if.cpp
++    tsh_if.c
+ 
+ HEADERS += main_window.h\
+ 	sim_application.h\
+diff --git a/tsh_if.c b/tsh_if.c
+index 0aeec7a..0d6d966 100644
+--- a/tsh_if.c
++++ b/tsh_if.c
+@@ -4,66 +4,31 @@
+  **  E-mail      : xhyz008@163.com
+  **  Created Time: Mon Oct 28 15:09:40 2013
+  *******************************************************************************/
+-#include <stdlib.h>
+-#include <stdio.h>
+ #include <string.h>
+ #include <unistd.h>
+-#include <QFile>
+-#include <iostream>
+-#include <QTextStream>
+ 
+-using namespace std;
+-#ifdef __cplusplus
+-extern "C" {
+-#endif
++extern int parent;
+ 
+-#include "tsh_if.h"
++static char buffer[10000];
+ 
+-#ifdef __cplusplus
+-}
+-#endif
+-
+-int oldstdin;
+-int oldstdout;
+-int oldstderr;
+-int inpipe[2];
+-int outpipe[2];
+-int errpipe[2];
++void init_redestration() {
+ 
+-const int BUFSIZE=500000;
+-char buffer[10000];
+-int read_from_stdin = 1;
+-
+-FILE* stdout_id;
+-FILE* stdin_id;
+-void init_redestration()
+-{
+-    //read_from_stdin = 1;
+-	oldstdin = dup(0);
+-    oldstdout = dup(1);
+-    oldstderr = dup(2);
+-	pipe( inpipe );
+-    pipe( outpipe );
+-    pipe( errpipe );
+-	dup2( inpipe[0], 0);
+-    dup2( outpipe[1], 1 );
+-    dup2( errpipe[1], 2 );
+-    close(inpipe[0]);
+-    close(outpipe[1]);
+-    close(errpipe[1]);
+ }
+ 
+-void destroy_redestration()
+-{
+-    //read_from_stdin = 1;
++void destroy_redestration() {
+ }
+ 
+-char* exec_command(char* cmd)
+-{
+-	int count = 0;
+-    count = write( inpipe[1] , cmd, 10000);
++char* exec_command(char* cmd) {
++    if(write(parent, cmd, strlen(cmd)) < 0) {
++        perror("write error!");
++        return NULL;
++    }
++
+     memset(buffer, 0, sizeof(buffer));
+-    count = read( outpipe[0] , buffer, 10000 );
++    if(read(parent, buffer, sizeof(buffer)) < 0) {
++        perror("read error!");
++        return NULL;
++    }
+     return buffer;
+ }
+ 
+diff --git a/tsh_if.h b/tsh_if.h
+index 0883e4b..7aa5aab 100644
+--- a/tsh_if.h
++++ b/tsh_if.h
+@@ -7,9 +7,8 @@
+ #ifndef TSH_IF_H
+ #define TSH_IF_H
+ 
+-
+-
+ void init_redestration();
++void destroy_redestration();
+ char* exec_command(char* cmd);
+ 
+ #endif
+=====================================================
+commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
+Author: durd07 <durd07@gmial.com>
+Date:   Thu Oct 31 23:27:33 2013 +0800
+
+    add new files
+
+diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
+index fdd7761..c7ade15 100644
+--- a/open_command_line_window_dialog_slots.cpp
++++ b/open_command_line_window_dialog_slots.cpp
+@@ -1,5 +1,5 @@
+ #include "open_command_line_window_dialog.h"
+-#include "ui_cli.h"
++//#include "ui_cli.h"
+ /*
+ void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
+     this->show();
+diff --git a/sim-qt.pro b/sim-qt.pro
+index 5742f13..93f8b79 100644
+--- a/sim-qt.pro
++++ b/sim-qt.pro
+@@ -26,7 +26,7 @@ SOURCES += main.cpp\
+ 	qconsole.cpp \
+ 	qsim_console.cpp \
+ 	main_window_tool_slots.cpp \
+-	tsh_if.cpp
++    tsh_if.c
+ 
+ HEADERS += main_window.h\
+ 	sim_application.h\
+diff --git a/tsh_if.c b/tsh_if.c
+index 0aeec7a..0d6d966 100644
+--- a/tsh_if.c
++++ b/tsh_if.c
+@@ -4,66 +4,31 @@
+  **  E-mail      : xhyz008@163.com
+  **  Created Time: Mon Oct 28 15:09:40 2013
+  *******************************************************************************/
+-#include <stdlib.h>
+-#include <stdio.h>
+ #include <string.h>
+ #include <unistd.h>
+-#include <QFile>
+-#include <iostream>
+-#include <QTextStream>
+ 
+-using namespace std;
+-#ifdef __cplusplus
+-extern "C" {
+-#endif
++extern int parent;
+ 
+-#include "tsh_if.h"
++static char buffer[10000];
+ 
+-#ifdef __cplusplus
+-}
+-#endif
+-
+-int oldstdin;
+-int oldstdout;
+-int oldstderr;
+-int inpipe[2];
+-int outpipe[2];
+-int errpipe[2];
++void init_redestration() {
+ 
+-const int BUFSIZE=500000;
+-char buffer[10000];
+-int read_from_stdin = 1;
+-
+-FILE* stdout_id;
+-FILE* stdin_id;
+-void init_redestration()
+-{
+-    //read_from_stdin = 1;
+-	oldstdin = dup(0);
+-    oldstdout = dup(1);
+-    oldstderr = dup(2);
+-	pipe( inpipe );
+-    pipe( outpipe );
+-    pipe( errpipe );
+-	dup2( inpipe[0], 0);
+-    dup2( outpipe[1], 1 );
+-    dup2( errpipe[1], 2 );
+-    close(inpipe[0]);
+-    close(outpipe[1]);
+-    close(errpipe[1]);
+ }
+ 
+-void destroy_redestration()
+-{
+-    //read_from_stdin = 1;
++void destroy_redestration() {
+ }
+ 
+-char* exec_command(char* cmd)
+-{
+-	int count = 0;
+-    count = write( inpipe[1] , cmd, 10000);
++char* exec_command(char* cmd) {
++    if(write(parent, cmd, strlen(cmd)) < 0) {
++        perror("write error!");
++        return NULL;
++    }
++
+     memset(buffer, 0, sizeof(buffer));
+-    count = read( outpipe[0] , buffer, 10000 );
++    if(read(parent, buffer, sizeof(buffer)) < 0) {
++        perror("read error!");
++        return NULL;
++    }
+     return buffer;
+ }
+ 
+diff --git a/tsh_if.h b/tsh_if.h
+index 0883e4b..7aa5aab 100644
+--- a/tsh_if.h
++++ b/tsh_if.h
+@@ -7,9 +7,8 @@
+ #ifndef TSH_IF_H
+ #define TSH_IF_H
+ 
+-
+-
+ void init_redestration();
++void destroy_redestration();
+ char* exec_command(char* cmd);
+ 
+ #endif
+=====================================================
+commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
+Author: durd07 <durd07@gmial.com>
+Date:   Thu Oct 31 23:27:33 2013 +0800
+
+    add new files
+
 =====================================================
 commit 5ed537d4cb5a084b6930a7ab0f48ffe98efc8ec3
 Author: durd07 <durd07@gmial.com>
diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
index fdd7761..c7ade15 100644
--- a/open_command_line_window_dialog_slots.cpp
+++ b/open_command_line_window_dialog_slots.cpp
@@ -1,5 +1,5 @@
 #include "open_command_line_window_dialog.h"
-#include "ui_cli.h"
+//#include "ui_cli.h"
 /*
 void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
     this->show();
diff --git a/sim-qt.pro b/sim-qt.pro
index 5742f13..93f8b79 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -26,7 +26,7 @@ SOURCES += main.cpp\
 	qconsole.cpp \
 	qsim_console.cpp \
 	main_window_tool_slots.cpp \
-	tsh_if.cpp
+    tsh_if.c
 
 HEADERS += main_window.h\
 	sim_application.h\
diff --git a/tsh_if.c b/tsh_if.c
index 0aeec7a..0d6d966 100644
--- a/tsh_if.c
+++ b/tsh_if.c
@@ -4,66 +4,31 @@
  **  E-mail      : xhyz008@163.com
  **  Created Time: Mon Oct 28 15:09:40 2013
  *******************************************************************************/
-#include <stdlib.h>
-#include <stdio.h>
 #include <string.h>
 #include <unistd.h>
-#include <QFile>
-#include <iostream>
-#include <QTextStream>
 
-using namespace std;
-#ifdef __cplusplus
-extern "C" {
-#endif
+extern int parent;
 
-#include "tsh_if.h"
+static char buffer[10000];
 
-#ifdef __cplusplus
-}
-#endif
-
-int oldstdin;
-int oldstdout;
-int oldstderr;
-int inpipe[2];
-int outpipe[2];
-int errpipe[2];
+void init_redestration() {
 
-const int BUFSIZE=500000;
-char buffer[10000];
-int read_from_stdin = 1;
-
-FILE* stdout_id;
-FILE* stdin_id;
-void init_redestration()
-{
-    //read_from_stdin = 1;
-	oldstdin = dup(0);
-    oldstdout = dup(1);
-    oldstderr = dup(2);
-	pipe( inpipe );
-    pipe( outpipe );
-    pipe( errpipe );
-	dup2( inpipe[0], 0);
-    dup2( outpipe[1], 1 );
-    dup2( errpipe[1], 2 );
-    close(inpipe[0]);
-    close(outpipe[1]);
-    close(errpipe[1]);
 }
 
-void destroy_redestration()
-{
-    //read_from_stdin = 1;
+void destroy_redestration() {
 }
 
-char* exec_command(char* cmd)
-{
-	int count = 0;
-    count = write( inpipe[1] , cmd, 10000);
+char* exec_command(char* cmd) {
+    if(write(parent, cmd, strlen(cmd)) < 0) {
+        perror("write error!");
+        return NULL;
+    }
+
     memset(buffer, 0, sizeof(buffer));
-    count = read( outpipe[0] , buffer, 10000 );
+    if(read(parent, buffer, sizeof(buffer)) < 0) {
+        perror("read error!");
+        return NULL;
+    }
     return buffer;
 }
 
diff --git a/tsh_if.h b/tsh_if.h
index 0883e4b..7aa5aab 100644
--- a/tsh_if.h
+++ b/tsh_if.h
@@ -7,9 +7,8 @@
 #ifndef TSH_IF_H
 #define TSH_IF_H
 
-
-
 void init_redestration();
+void destroy_redestration();
 char* exec_command(char* cmd);
 
 #endif
=====================================================
commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
Author: durd07 <durd07@gmial.com>
Date:   Thu Oct 31 23:27:33 2013 +0800

    add new files

diff --git a/ChangeLog b/ChangeLog
index 0b84325..eafceb0 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,134 @@
+diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
+index fdd7761..c7ade15 100644
+--- a/open_command_line_window_dialog_slots.cpp
++++ b/open_command_line_window_dialog_slots.cpp
+@@ -1,5 +1,5 @@
+ #include "open_command_line_window_dialog.h"
+-#include "ui_cli.h"
++//#include "ui_cli.h"
+ /*
+ void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
+     this->show();
+diff --git a/sim-qt.pro b/sim-qt.pro
+index 5742f13..93f8b79 100644
+--- a/sim-qt.pro
++++ b/sim-qt.pro
+@@ -26,7 +26,7 @@ SOURCES += main.cpp\
+ 	qconsole.cpp \
+ 	qsim_console.cpp \
+ 	main_window_tool_slots.cpp \
+-	tsh_if.cpp
++    tsh_if.c
+ 
+ HEADERS += main_window.h\
+ 	sim_application.h\
+diff --git a/tsh_if.c b/tsh_if.c
+index 0aeec7a..0d6d966 100644
+--- a/tsh_if.c
++++ b/tsh_if.c
+@@ -4,66 +4,31 @@
+  **  E-mail      : xhyz008@163.com
+  **  Created Time: Mon Oct 28 15:09:40 2013
+  *******************************************************************************/
+-#include <stdlib.h>
+-#include <stdio.h>
+ #include <string.h>
+ #include <unistd.h>
+-#include <QFile>
+-#include <iostream>
+-#include <QTextStream>
+ 
+-using namespace std;
+-#ifdef __cplusplus
+-extern "C" {
+-#endif
++extern int parent;
+ 
+-#include "tsh_if.h"
++static char buffer[10000];
+ 
+-#ifdef __cplusplus
+-}
+-#endif
+-
+-int oldstdin;
+-int oldstdout;
+-int oldstderr;
+-int inpipe[2];
+-int outpipe[2];
+-int errpipe[2];
++void init_redestration() {
+ 
+-const int BUFSIZE=500000;
+-char buffer[10000];
+-int read_from_stdin = 1;
+-
+-FILE* stdout_id;
+-FILE* stdin_id;
+-void init_redestration()
+-{
+-    //read_from_stdin = 1;
+-	oldstdin = dup(0);
+-    oldstdout = dup(1);
+-    oldstderr = dup(2);
+-	pipe( inpipe );
+-    pipe( outpipe );
+-    pipe( errpipe );
+-	dup2( inpipe[0], 0);
+-    dup2( outpipe[1], 1 );
+-    dup2( errpipe[1], 2 );
+-    close(inpipe[0]);
+-    close(outpipe[1]);
+-    close(errpipe[1]);
+ }
+ 
+-void destroy_redestration()
+-{
+-    //read_from_stdin = 1;
++void destroy_redestration() {
+ }
+ 
+-char* exec_command(char* cmd)
+-{
+-	int count = 0;
+-    count = write( inpipe[1] , cmd, 10000);
++char* exec_command(char* cmd) {
++    if(write(parent, cmd, strlen(cmd)) < 0) {
++        perror("write error!");
++        return NULL;
++    }
++
+     memset(buffer, 0, sizeof(buffer));
+-    count = read( outpipe[0] , buffer, 10000 );
++    if(read(parent, buffer, sizeof(buffer)) < 0) {
++        perror("read error!");
++        return NULL;
++    }
+     return buffer;
+ }
+ 
+diff --git a/tsh_if.h b/tsh_if.h
+index 0883e4b..7aa5aab 100644
+--- a/tsh_if.h
++++ b/tsh_if.h
+@@ -7,9 +7,8 @@
+ #ifndef TSH_IF_H
+ #define TSH_IF_H
+ 
+-
+-
+ void init_redestration();
++void destroy_redestration();
+ char* exec_command(char* cmd);
+ 
+ #endif
+=====================================================
+commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
+Author: durd07 <durd07@gmial.com>
+Date:   Thu Oct 31 23:27:33 2013 +0800
+
+    add new files
+
 =====================================================
 commit 5ed537d4cb5a084b6930a7ab0f48ffe98efc8ec3
 Author: durd07 <durd07@gmial.com>
diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
index fdd7761..c7ade15 100644
--- a/open_command_line_window_dialog_slots.cpp
+++ b/open_command_line_window_dialog_slots.cpp
@@ -1,5 +1,5 @@
 #include "open_command_line_window_dialog.h"
-#include "ui_cli.h"
+//#include "ui_cli.h"
 /*
 void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
     this->show();
diff --git a/sim-qt.pro b/sim-qt.pro
index 5742f13..93f8b79 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -26,7 +26,7 @@ SOURCES += main.cpp\
 	qconsole.cpp \
 	qsim_console.cpp \
 	main_window_tool_slots.cpp \
-	tsh_if.cpp
+    tsh_if.c
 
 HEADERS += main_window.h\
 	sim_application.h\
diff --git a/tsh_if.c b/tsh_if.c
index 0aeec7a..0d6d966 100644
--- a/tsh_if.c
+++ b/tsh_if.c
@@ -4,66 +4,31 @@
  **  E-mail      : xhyz008@163.com
  **  Created Time: Mon Oct 28 15:09:40 2013
  *******************************************************************************/
-#include <stdlib.h>
-#include <stdio.h>
 #include <string.h>
 #include <unistd.h>
-#include <QFile>
-#include <iostream>
-#include <QTextStream>
 
-using namespace std;
-#ifdef __cplusplus
-extern "C" {
-#endif
+extern int parent;
 
-#include "tsh_if.h"
+static char buffer[10000];
 
-#ifdef __cplusplus
-}
-#endif
-
-int oldstdin;
-int oldstdout;
-int oldstderr;
-int inpipe[2];
-int outpipe[2];
-int errpipe[2];
+void init_redestration() {
 
-const int BUFSIZE=500000;
-char buffer[10000];
-int read_from_stdin = 1;
-
-FILE* stdout_id;
-FILE* stdin_id;
-void init_redestration()
-{
-    //read_from_stdin = 1;
-	oldstdin = dup(0);
-    oldstdout = dup(1);
-    oldstderr = dup(2);
-	pipe( inpipe );
-    pipe( outpipe );
-    pipe( errpipe );
-	dup2( inpipe[0], 0);
-    dup2( outpipe[1], 1 );
-    dup2( errpipe[1], 2 );
-    close(inpipe[0]);
-    close(outpipe[1]);
-    close(errpipe[1]);
 }
 
-void destroy_redestration()
-{
-    //read_from_stdin = 1;
+void destroy_redestration() {
 }
 
-char* exec_command(char* cmd)
-{
-	int count = 0;
-    count = write( inpipe[1] , cmd, 10000);
+char* exec_command(char* cmd) {
+    if(write(parent, cmd, strlen(cmd)) < 0) {
+        perror("write error!");
+        return NULL;
+    }
+
     memset(buffer, 0, sizeof(buffer));
-    count = read( outpipe[0] , buffer, 10000 );
+    if(read(parent, buffer, sizeof(buffer)) < 0) {
+        perror("read error!");
+        return NULL;
+    }
     return buffer;
 }
 
diff --git a/tsh_if.h b/tsh_if.h
index 0883e4b..7aa5aab 100644
--- a/tsh_if.h
+++ b/tsh_if.h
@@ -7,9 +7,8 @@
 #ifndef TSH_IF_H
 #define TSH_IF_H
 
-
-
 void init_redestration();
+void destroy_redestration();
 char* exec_command(char* cmd);
 
 #endif
=====================================================
commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
Author: durd07 <durd07@gmial.com>
Date:   Thu Oct 31 23:27:33 2013 +0800

    add new files

diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
index fdd7761..c7ade15 100644
--- a/open_command_line_window_dialog_slots.cpp
+++ b/open_command_line_window_dialog_slots.cpp
@@ -1,5 +1,5 @@
 #include "open_command_line_window_dialog.h"
-#include "ui_cli.h"
+//#include "ui_cli.h"
 /*
 void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
     this->show();
diff --git a/sim-qt.pro b/sim-qt.pro
index 5742f13..93f8b79 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -26,7 +26,7 @@ SOURCES += main.cpp\
 	qconsole.cpp \
 	qsim_console.cpp \
 	main_window_tool_slots.cpp \
-	tsh_if.cpp
+    tsh_if.c
 
 HEADERS += main_window.h\
 	sim_application.h\
diff --git a/tsh_if.c b/tsh_if.c
index 0aeec7a..0d6d966 100644
--- a/tsh_if.c
+++ b/tsh_if.c
@@ -4,66 +4,31 @@
  **  E-mail      : xhyz008@163.com
  **  Created Time: Mon Oct 28 15:09:40 2013
  *******************************************************************************/
-#include <stdlib.h>
-#include <stdio.h>
 #include <string.h>
 #include <unistd.h>
-#include <QFile>
-#include <iostream>
-#include <QTextStream>
 
-using namespace std;
-#ifdef __cplusplus
-extern "C" {
-#endif
+extern int parent;
 
-#include "tsh_if.h"
+static char buffer[10000];
 
-#ifdef __cplusplus
-}
-#endif
-
-int oldstdin;
-int oldstdout;
-int oldstderr;
-int inpipe[2];
-int outpipe[2];
-int errpipe[2];
+void init_redestration() {
 
-const int BUFSIZE=500000;
-char buffer[10000];
-int read_from_stdin = 1;
-
-FILE* stdout_id;
-FILE* stdin_id;
-void init_redestration()
-{
-    //read_from_stdin = 1;
-	oldstdin = dup(0);
-    oldstdout = dup(1);
-    oldstderr = dup(2);
-	pipe( inpipe );
-    pipe( outpipe );
-    pipe( errpipe );
-	dup2( inpipe[0], 0);
-    dup2( outpipe[1], 1 );
-    dup2( errpipe[1], 2 );
-    close(inpipe[0]);
-    close(outpipe[1]);
-    close(errpipe[1]);
 }
 
-void destroy_redestration()
-{
-    //read_from_stdin = 1;
+void destroy_redestration() {
 }
 
-char* exec_command(char* cmd)
-{
-	int count = 0;
-    count = write( inpipe[1] , cmd, 10000);
+char* exec_command(char* cmd) {
+    if(write(parent, cmd, strlen(cmd)) < 0) {
+        perror("write error!");
+        return NULL;
+    }
+
     memset(buffer, 0, sizeof(buffer));
-    count = read( outpipe[0] , buffer, 10000 );
+    if(read(parent, buffer, sizeof(buffer)) < 0) {
+        perror("read error!");
+        return NULL;
+    }
     return buffer;
 }
 
diff --git a/tsh_if.h b/tsh_if.h
index 0883e4b..7aa5aab 100644
--- a/tsh_if.h
+++ b/tsh_if.h
@@ -7,9 +7,8 @@
 #ifndef TSH_IF_H
 #define TSH_IF_H
 
-
-
 void init_redestration();
+void destroy_redestration();
 char* exec_command(char* cmd);
 
 #endif
=====================================================
commit 53cfb3b35c17b89f226ff8d48a5d02405e7ef4c0
Author: durd07 <durd07@gmial.com>
Date:   Thu Oct 31 23:27:33 2013 +0800

    add new files

=====================================================
commit 5ed537d4cb5a084b6930a7ab0f48ffe98efc8ec3
Author: durd07 <durd07@gmial.com>
Date:   Thu Oct 31 23:22:00 2013 +0800

    polish the command_line_window
    
    1. change open_command_line_window_dialog;
    2. use pipe to communicate to main process;
    Problems:
    So far the command_line_window only work under gdb mode, it is not work
    at normal mode. Maybe it's because of full buffer.

diff --git a/cli.ui b/cli.ui
index a7ccebd..83a05f0 100644
--- a/cli.ui
+++ b/cli.ui
@@ -16,18 +16,7 @@
   <property name="layoutDirection">
    <enum>Qt::LeftToRight</enum>
   </property>
-  <layout class="QGridLayout" name="gridLayout">
-   <item row="0" column="0">
-    <widget class="QPlainTextEdit" name="commandPlainTextEdit">
-     <property name="layoutDirection">
-      <enum>Qt::LeftToRight</enum>
-     </property>
-     <property name="autoFillBackground">
-      <bool>true</bool>
-     </property>
-    </widget>
-   </item>
-  </layout>
+  <layout class="QGridLayout" name="gridLayout"/>
  </widget>
  <resources/>
  <connections/>
diff --git a/create_workspace_dialog.cpp b/create_workspace_dialog.cpp
index de8cd32..d683cfc 100644
--- a/create_workspace_dialog.cpp
+++ b/create_workspace_dialog.cpp
@@ -4,6 +4,7 @@
 #include "create_workspace_dialog.h"
 #include "ui_create_workspace_dialog.h"
 
+extern QString WorkSpachPath;
 CreateWorkspaceDialog::CreateWorkspaceDialog(QString dialog_info, QDialog *parent) :
     QDialog(parent),
     create_workspace_dialog_ui_(new Ui::CreateWorkspaceDialog) {
@@ -19,6 +20,8 @@ CreateWorkspaceDialog::CreateWorkspaceDialog(QString dialog_info, QDialog *paren
     create_workspace_dialog_ui_->DirecotoryTreeView->setRootIndex(modelIndex);
     create_workspace_dialog_ui_->DirecotoryTreeView->setEditTriggers(QAbstractItemView::DoubleClicked | QAbstractItemView::SelectedClicked | QAbstractItemView::EditKeyPressed/* | QAbstractItemView::AnyKeyPressed*/);
     create_workspace_dialog_ui_->DirecotoryTreeView->setHeaderHidden(true);
+    create_workspace_dialog_ui_->DirecotoryTreeView->setCurrentIndex(FileSysmodel->index(WorkSpachPath));
+    create_workspace_dialog_ui_->FilenameLineEdit->setText(FileSysmodel->fileName(FileSysmodel->index(WorkSpachPath)));
 
     for(int i = 1; i < 4; i++)
     {
diff --git a/main.cpp b/main.cpp
index 00d6a1f..106c2ae 100644
--- a/main.cpp
+++ b/main.cpp
@@ -1,7 +1,11 @@
 #include "sim_application.h"
 #include "main_window.h"
 
-int main(int argc, char *argv[])
+#ifdef __cplusplus
+extern "C" {
+#endif
+int simqt_main(int argc, char *argv[])
+//int main(int argc, char *argv[])
 {
     SimApplication sim_app(argc, argv);
     MainWindow *main_w;
@@ -12,3 +16,6 @@ int main(int argc, char *argv[])
     return simApp->exec();
 }
 
+#ifdef __cplusplus
+}
+#endif
diff --git a/main_window.cpp b/main_window.cpp
index 3618f19..b41b627 100644
--- a/main_window.cpp
+++ b/main_window.cpp
@@ -65,7 +65,7 @@ void MainWindow::setFileMenu(void) {
             simApp, SLOT(closeAllWindows()));
 
     connect(main_ui_->actionCommandLineWindow, SIGNAL(triggered()),
-            &this->open_command_line_window_dialog, SLOT(openCommandLineWindow()));
+            this, SLOT(openCommandLineWindow()));
 }
 
 MainWindow::~MainWindow() {
diff --git a/main_window.h b/main_window.h
index 00893fc..8b05a05 100644
--- a/main_window.h
+++ b/main_window.h
@@ -38,6 +38,8 @@ private slots:
     void createWorkspace(void);
     void changeWorkspace(void);
 
+    void openCommandLineWindow(void);
+
 private:
     void setToolsMenu(void);
 signals:
diff --git a/open_command_line_window_dialog.cpp b/open_command_line_window_dialog.cpp
index 24bf2db..52bd36b 100644
--- a/open_command_line_window_dialog.cpp
+++ b/open_command_line_window_dialog.cpp
@@ -1,13 +1,20 @@
 #include "open_command_line_window_dialog.h"
-#include "ui_cli.h"
+#include "qsim_console.h"
+#include <QVBoxLayout>
 
 OpenCommandLineWindowDialog::OpenCommandLineWindowDialog(QWidget *parent) :
-    QWidget(parent),
-    open_command_line_window_dialog_ui_(new Ui::OpenCommandLineWindowDialog) {
-    open_command_line_window_dialog_ui_->setupUi(this);
+    QWidget(parent){
+    QSimConsole *console = QSimConsole::getInstance(this);
+    this->setFocusProxy((QWidget*)console);
+    this->setMinimumSize(640, 480);
+    this->setWindowTitle(tr("Simics Command Line"));
+
+    layout = new QVBoxLayout;
+    layout->addWidget(console);
+    this->setLayout(layout);
+
 }
 
 OpenCommandLineWindowDialog::~OpenCommandLineWindowDialog() {
-    delete open_command_line_window_dialog_ui_;
 }
 
diff --git a/open_command_line_window_dialog.h b/open_command_line_window_dialog.h
index 0bb516a..39c57a1 100644
--- a/open_command_line_window_dialog.h
+++ b/open_command_line_window_dialog.h
@@ -3,9 +3,7 @@
 
 #include <QWidget>
 
-namespace Ui {
-    class OpenCommandLineWindowDialog;
-}
+class QVBoxLayout;
 
 class OpenCommandLineWindowDialog : public QWidget {
     Q_OBJECT
@@ -14,11 +12,8 @@ public:
     explicit OpenCommandLineWindowDialog(QWidget *parent = 0);
     ~OpenCommandLineWindowDialog();
 
-private slots:
-    void openCommandLineWindow(void);
-
 private:
-    Ui::OpenCommandLineWindowDialog *open_command_line_window_dialog_ui_;
+    QVBoxLayout *layout;
 };
 
 #endif
diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
index e441295..fdd7761 100644
--- a/open_command_line_window_dialog_slots.cpp
+++ b/open_command_line_window_dialog_slots.cpp
@@ -1,6 +1,7 @@
 #include "open_command_line_window_dialog.h"
 #include "ui_cli.h"
-
+/*
 void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
     this->show();
 }
+*/
diff --git a/sim-qt.pro b/sim-qt.pro
index e0e7bfc..5742f13 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -6,30 +6,37 @@ QT       += core gui
 
 greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
 
-TEMPLATE = app
-TARGET = sim-qt
+TEMPLATE = lib
+TARGET = simqt
 INCLUDEPATH += .
 
 DEFINES += QT_DLL
 CONFIG  += plugin link_pkgconfig
-
+#CONFIG   += staticlib
 SOURCES += main.cpp\
-                   main_window.cpp\
-           main_window_file_slots.cpp\
-           open_checkpoint_dialog.cpp\
-           open_checkpoint_dialog_slots.cpp\
-           create_workspace_dialog.cpp\
-           create_workspace_dialog_slots.cpp\
-           open_command_line_window_dialog.cpp\
-           open_command_line_window_dialog_slots.cpp\
-           sim_application.cpp
+	main_window.cpp\
+        main_window_file_slots.cpp\
+        open_checkpoint_dialog.cpp\
+        open_checkpoint_dialog_slots.cpp\
+        create_workspace_dialog.cpp\
+        create_workspace_dialog_slots.cpp\
+        open_command_line_window_dialog.cpp\
+        open_command_line_window_dialog_slots.cpp\
+        sim_application.cpp \
+	qconsole.cpp \
+	qsim_console.cpp \
+	main_window_tool_slots.cpp \
+	tsh_if.cpp
 
 HEADERS += main_window.h\
-           sim_application.h\
-           open_checkpoint_dialog.h\
-           open_command_line_window_dialog.h\
-           create_workspace_dialog.h
-
-FORMS += cli.ui main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui
+	sim_application.h\
+        open_checkpoint_dialog.h\
+        open_command_line_window_dialog.h\
+        create_workspace_dialog.h \
+    	qconsole.h \
+    	qsim_console.h \
+    	tsh_if.h
+
+FORMS += main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui
 
 RESOURCES = icons.qrc
=====================================================
commit faccb1607d09f049763d425b3e33b467294968aa
Author: root <root@SUSE.site>
Date:   Fri Oct 25 16:21:31 2013 +0800

    add commit.sh
    
    in order to change ChangLog easier
    add the new file commit.sh to make it automacially

diff --git a/ChangeLog b/ChangeLog
index 3b4e56e..7836e9d 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,11 @@
+=====================================================
+commit eb6312ffef57dd3d6ce3551a2d5ecc4407cb4f59
+Merge: 99ee752 0484e7a
+Author: root <root@SUSE.site>
+Date:   Fri Oct 25 16:20:22 2013 +0800
+
+    Merge branch 'develop' of https://github.com/durd07/sim-qt
+
 diff --git a/create_workspace_dialog.cpp b/create_workspace_dialog.cpp
 index 48bc58f..de8cd32 100644
 --- a/create_workspace_dialog.cpp
=====================================================
commit eb6312ffef57dd3d6ce3551a2d5ecc4407cb4f59
Merge: 99ee752 0484e7a
Author: root <root@SUSE.site>
Date:   Fri Oct 25 16:20:22 2013 +0800

    Merge branch 'develop' of https://github.com/durd07/sim-qt

=====================================================
commit eb6312ffef57dd3d6ce3551a2d5ecc4407cb4f59
Merge: 99ee752 0484e7a
Author: root <root@SUSE.site>
Date:   Fri Oct 25 16:20:22 2013 +0800

    Merge branch 'develop' of https://github.com/durd07/sim-qt

diff --git a/create_workspace_dialog.cpp b/create_workspace_dialog.cpp
index 48bc58f..de8cd32 100644
--- a/create_workspace_dialog.cpp
+++ b/create_workspace_dialog.cpp
@@ -1,41 +1,30 @@
-#include <QDirModel>
 #include <QStandardPaths>
-#include <QFileSystemModel>
 #include <QModelIndex>
 #include <QMessageBox>
 #include "create_workspace_dialog.h"
 #include "ui_create_workspace_dialog.h"
 
-CreateWorkspaceDialog::CreateWorkspaceDialog(QWidget *parent) :
-    QWidget(parent),
+CreateWorkspaceDialog::CreateWorkspaceDialog(QString dialog_info, QDialog *parent) :
+    QDialog(parent),
     create_workspace_dialog_ui_(new Ui::CreateWorkspaceDialog) {
     create_workspace_dialog_ui_->setupUi(this);
-#if 1
-//    QDirModel *dirmodel = new QDirModel(this);
-
-//    QString home_files = QStandardPaths::writableLocation(QStandardPaths::HomeLocation);
-//    QModelIndex homeIndex = dirmodel->index(home_files);
-//    QString desktop_path = QStandardPaths::storageLocation(QStandardPaths::DesktopLocation);
-//    QString document_path = QStandardPaths::storageLocation(QStandardPaths::DocumentsLocation);
-//    QString home_path = QStandardPaths::storageLocation(QStandardPaths::HomeLocation);
-//    QString application_path = QStandardPaths::storageLocatio(QStandardPaths::ApplicationsLocation);
-//    QString temp_path = QStandardPaths::storageLocation(QStandardPaths::TempLocation);
+    create_workspace_dialog_ui_->DialogInfoLabel->setText(dialog_info);
 
     FileSysmodel = new QFileSystemModel;
+    FileSysmodel->setReadOnly(false);
+    FileSysmodel->setFilter(QDir::AllDirs | QDir::AllEntries | QDir::Drives | QDir::NoDotAndDotDot);
+
     QModelIndex modelIndex = FileSysmodel->setRootPath(FileSysmodel->myComputer().value<QString>());
     create_workspace_dialog_ui_->DirecotoryTreeView->setModel(FileSysmodel);
     create_workspace_dialog_ui_->DirecotoryTreeView->setRootIndex(modelIndex);
+    create_workspace_dialog_ui_->DirecotoryTreeView->setEditTriggers(QAbstractItemView::DoubleClicked | QAbstractItemView::SelectedClicked | QAbstractItemView::EditKeyPressed/* | QAbstractItemView::AnyKeyPressed*/);
     create_workspace_dialog_ui_->DirecotoryTreeView->setHeaderHidden(true);
-//    create_workspace_dialog_ui_->DirecotoryTreeView->expand(modelIndex);      //当前项展开
-//    create_workspace_dialog_ui_->DirecotoryTreeView->scrollTo(modelIndex);    //定位到当前项
-    create_workspace_dialog_ui_->DirecotoryTreeView->setRootIsDecorated(false);
-//    create_workspace_dialog_ui_->DirecotoryTreeView->setEditTriggers(QAbstractItemView::CurrentChanged | QAbstractItemView::DoubleClicked | QAbstractItemView::SelectedClicked | QAbstractItemView::AnyKeyPressed);
-    //create_workspace_dialog_ui_->DirecotoryTreeView->sete
+
     for(int i = 1; i < 4; i++)
     {
         create_workspace_dialog_ui_->DirecotoryTreeView->hideColumn(i);
     }
-#endif
+
     connect(create_workspace_dialog_ui_->CreateDirectoryButton, SIGNAL(clicked()), this , SLOT(mkdir()));
     connect(create_workspace_dialog_ui_->DirecotoryTreeView, SIGNAL(clicked(QModelIndex)), this , SLOT(slotShowFilName(QModelIndex)));
 }
diff --git a/create_workspace_dialog.h b/create_workspace_dialog.h
index 03c4bf3..46dae3e 100644
--- a/create_workspace_dialog.h
+++ b/create_workspace_dialog.h
@@ -1,24 +1,21 @@
 #ifndef CREATE_WORKSPACE_DIALOG_H
 #define CREATE_WORKSPACE_DIALOG_H
 
-#include <QWidget>
+#include <QDialog>
 #include <QFileSystemModel>
 
-class QDirModel;
-
 namespace Ui {
     class CreateWorkspaceDialog;
 }
 
-class CreateWorkspaceDialog : public QWidget {
+class CreateWorkspaceDialog : public QDialog {
     Q_OBJECT
 
 public:
-    explicit CreateWorkspaceDialog(QWidget *parent = 0);
+    explicit CreateWorkspaceDialog(QString dialog_info = tr("Select directory to use as workspace ..."), QDialog *parent = 0);
     ~CreateWorkspaceDialog();
+
 private slots:
-    void createWorkspace(void);
-    void changeWorkspace(void);
     void mkdir();
     void on_SureButton_clicked();
     void slotShowFilName(QModelIndex index);
diff --git a/create_workspace_dialog_slots.cpp b/create_workspace_dialog_slots.cpp
index 28a5a7e..03791d4 100644
--- a/create_workspace_dialog_slots.cpp
+++ b/create_workspace_dialog_slots.cpp
@@ -2,20 +2,6 @@
 #include "ui_create_workspace_dialog.h"
 #include <QMessageBox>
 
-void CreateWorkspaceDialog::createWorkspace(void) {
-    this->create_workspace_dialog_ui_
-        ->DialogInfoLabel->setText(QApplication::translate("CreateWorkspaceDialog",
-                                                           "Select directory to use as workspace ...", 0));
-    this->show();
-}
-
-void CreateWorkspaceDialog::changeWorkspace(void) {
-    this->create_workspace_dialog_ui_
-        ->DialogInfoLabel->setText(QApplication::translate("CreateWorkspaceDialog",
-                                                           "Select workspace to use ...", 0));
-    this->show();
-}
-
 void CreateWorkspaceDialog::mkdir()
 {
     QModelIndex index = create_workspace_dialog_ui_->DirecotoryTreeView->currentIndex();
@@ -33,19 +19,19 @@ void CreateWorkspaceDialog::mkdir()
         i++;
     }
 
-    QModelIndex new_index = FileSysmodel->mkdir(index, newdirname);
+    FileSysmodel->mkdir(index, newdirname);
+    QModelIndex new_index = FileSysmodel->index(newdirname);
+
     if (!new_index.isValid()){
         QMessageBox::information(this,"Create Directory","Failed to create the directory");
     }
-    create_workspace_dialog_ui_->DirecotoryTreeView->visualRect(new_index);
 
-    //create_workspace_dialog_ui_->DirecotoryTreeView->scrollTo(new_index);    //定位到当前项
+    create_workspace_dialog_ui_->DirecotoryTreeView->setCurrentIndex(new_index);
 }
 
 void CreateWorkspaceDialog::slotShowFilName(QModelIndex index)
 {
-    create_workspace_dialog_ui_->DirecotoryTreeView->expand(index);      //当前项展开
-    create_workspace_dialog_ui_->DirecotoryTreeView->scrollTo(index);    //定位到当前项
+    create_workspace_dialog_ui_->DirecotoryTreeView->expand(index);
     create_workspace_dialog_ui_->FilenameLineEdit->setText(FileSysmodel->fileName(index));
 }
 
diff --git a/main_window.cpp b/main_window.cpp
index c953964..3618f19 100644
--- a/main_window.cpp
+++ b/main_window.cpp
@@ -50,17 +50,17 @@ void MainWindow::setFileMenu(void) {
     connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()),
             this, SLOT(newSessionFromScript()));
     connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()),
-            &this->open_checkpoint_dialog, SLOT(openCheckpoint()));
+            this, SLOT(openCheckpoint()));
     connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()),
             this, SLOT(appendFromScript()));
     connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()),
-            &this->open_checkpoint_dialog, SLOT(appendFromCheckpoint()));
+            this, SLOT(appendFromCheckpoint()));
     connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()),
             this, SLOT(runPythonFile()));
     connect(main_ui_->actionCreateWorkspace, SIGNAL(triggered()),
-            &this->create_workspace_dialog, SLOT(createWorkspace()));
+            this, SLOT(createWorkspace()));
     connect(main_ui_->actionChangeWorkspace, SIGNAL(triggered()),
-            &this->create_workspace_dialog, SLOT(changeWorkspace()));
+            this, SLOT(changeWorkspace()));
     connect(main_ui_->actionExit, SIGNAL(triggered()),
             simApp, SLOT(closeAllWindows()));
 
diff --git a/main_window.h b/main_window.h
index 6788825..00893fc 100644
--- a/main_window.h
+++ b/main_window.h
@@ -28,11 +28,15 @@ signals:
 private slots:
     void newEmptySession(void);
     void newSessionFromScript(void);
+    void openCheckpoint(void);
     bool saveCheckpoint(void);
     void appendFromScript(void);
+    void appendFromCheckpoint(void);
     bool loadPresistentState(void);
     bool savePresitentState(void);
     void runPythonFile(void);
+    void createWorkspace(void);
+    void changeWorkspace(void);
 
 private:
     void setToolsMenu(void);
@@ -41,8 +45,7 @@ private slots:
 
 private:
     Ui::MainWindow *main_ui_;
-    OpenCheckpointDialog open_checkpoint_dialog;
-    CreateWorkspaceDialog create_workspace_dialog;
+
     OpenCommandLineWindowDialog open_command_line_window_dialog;
 };
 
diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
index b4037aa..77413ff 100644
--- a/main_window_file_slots.cpp
+++ b/main_window_file_slots.cpp
@@ -16,6 +16,10 @@ void MainWindow::newSessionFromScript(void) {
 
     }
 }
+void MainWindow::openCheckpoint(void) {
+    OpenCheckpointDialog open_checkpoint_dialog;
+    open_checkpoint_dialog.exec();
+}
 
 bool MainWindow::saveCheckpoint(void) {
     return true;
@@ -31,6 +35,11 @@ void MainWindow::appendFromScript(void) {
     }
 }
 
+void MainWindow::appendFromCheckpoint(void) {
+    OpenCheckpointDialog open_checkpoint_dialog;
+    open_checkpoint_dialog.exec();
+}
+
 bool MainWindow::loadPresistentState(void) {
     return true;
 }
@@ -46,3 +55,35 @@ void MainWindow::runPythonFile(void) {
                                                       tr("Python files (*.py)"));
 }
 
+extern QString WorkSpachPath;
+void MainWindow::createWorkspace(void) {
+#if 0
+    CreateWorkspaceDialog create_workspace_dialog(tr("Select directory to use as workspace ..."));
+    create_workspace_dialog.exec();
+#else
+    QString workspace_path = QFileDialog::getExistingDirectory(this, tr("Select directory to use as workspace ..."),
+    WorkSpachPath,
+    QFileDialog::ShowDirsOnly
+    | QFileDialog::DontResolveSymlinks);
+
+    if (!workspace_path.isEmpty()) {
+
+    }
+#endif
+}
+
+void MainWindow::changeWorkspace(void) {
+#if 0
+    CreateWorkspaceDialog create_workspace_dialog("Select workspace to use ...");
+    create_workspace_dialog.exec();
+#else
+    QString workspace_path = QFileDialog::getExistingDirectory(this, tr("Select workspace to use ..."),
+    WorkSpachPath,
+    QFileDialog::ShowDirsOnly
+    | QFileDialog::DontResolveSymlinks);
+
+    if (!workspace_path.isEmpty()) {
+
+    }
+#endif
+}
diff --git a/open_checkpoint_dialog.cpp b/open_checkpoint_dialog.cpp
index 284dce9..b0a69a7 100644
--- a/open_checkpoint_dialog.cpp
+++ b/open_checkpoint_dialog.cpp
@@ -4,7 +4,7 @@
 #include "ui_open_checkpoint_dialog.h"
 
 // golbel object, bad idea.
-QString WorkSpachPath;
+QString WorkSpachPath = QObject::tr("C:\\Users");
 
 OpenCheckpointDialog::OpenCheckpointDialog(QDialog *parent) :
     QDialog(parent),
@@ -16,14 +16,10 @@ OpenCheckpointDialog::OpenCheckpointDialog(QDialog *parent) :
     FileSysmodel->setSorting(QDir::DirsFirst | QDir::IgnoreCase | QDir::Name);
 #else
     FileSysmodel = new QFileSystemModel();
+    FileSysmodel->sort(0);
 #endif
     FileSysmodel->setFilter(QDir::AllDirs | QDir::AllEntries | QDir::Drives | QDir::NoDotAndDotDot);
-    FileSysmodel->sort(0);
-    QStringList string;
-    string << "*.sim";
-    FileSysmodel->setNameFilters(string);
-    //WorkSpachPath = FileSysmodel->myComputer().value<QString>();
-    WorkSpachPath = "C:\\Users";
+    FileSysmodel->setNameFilters(QStringList(QString("*.xml")));
 
 #ifdef _USE_DIRMODEL
     QModelIndex modelIndex = FileSysmodel->index(WorkSpachPath);
diff --git a/open_checkpoint_dialog.h b/open_checkpoint_dialog.h
index 2b13831..6045e17 100644
--- a/open_checkpoint_dialog.h
+++ b/open_checkpoint_dialog.h
@@ -20,8 +20,6 @@ private:
     void initSelectDirectoryComboBox(QModelIndex index);
     void showFileInfoList(QModelIndex index);
 private slots:
-    void openCheckpoint(void);
-    void appendFromCheckpoint(void);
     void slotShowDir(QModelIndex index);
     void slotSelectDirectoryChanged(int index);
     void slotUPButton();
diff --git a/open_checkpoint_dialog_slots.cpp b/open_checkpoint_dialog_slots.cpp
index 6deb0b9..78c09c0 100644
--- a/open_checkpoint_dialog_slots.cpp
+++ b/open_checkpoint_dialog_slots.cpp
@@ -2,14 +2,6 @@
 #include "open_checkpoint_dialog.h"
 #include "ui_open_checkpoint_dialog.h"
 
-void OpenCheckpointDialog::openCheckpoint(void) {
-    this->exec();
-}
-
-void OpenCheckpointDialog::appendFromCheckpoint(void) {
-    this->exec();
-}
-
 void OpenCheckpointDialog::slotShowDir(QModelIndex index){
     if(FileSysmodel->isDir(index))
     {
@@ -53,8 +45,6 @@ void OpenCheckpointDialog::slotSimCheckpointComboBox(int index)
     QVariant ItemData = open_checkpoint_dialog_ui_->SelectDirectoryComboBox->itemData(open_checkpoint_dialog_ui_->SelectDirectoryComboBox->currentIndex());
     QString ItemString = ItemData.value<QString>();
 
-    //initSelectDirectoryComboBox(FileSysmodel->index(ItemString));
-
     showFileInfoList(FileSysmodel->index(ItemString));
 
 }
diff --git a/sim-qt.pro b/sim-qt.pro
index 6c42290..e0e7bfc 100644
--- a/sim-qt.pro
+++ b/sim-qt.pro
@@ -11,7 +11,7 @@ TARGET = sim-qt
 INCLUDEPATH += .
 
 DEFINES += QT_DLL
-CONFIG  +=  console plugin link_pkgconfig
+CONFIG  += plugin link_pkgconfig
 
 SOURCES += main.cpp\
                    main_window.cpp\
====================================================================================
相对版本675baec8d46f90a5804716326d443d66b6cd140f
新增功能如下：
1.完善了 open_checkpoint dialog,动作特性与simics相同
2.完善了 open_workspace dialog，使能够正常显示treeview，并可以create new folder
3.添加了 open empty session functon
4.修正了 main window 的 statusbar显示。
5.变更了 open_checkpoint的parent class，QWidegt->QDialog，为了实现exec（）
存在问题点：
1、open_workspace dialog不能显示windows的native 文件目录结构，只能显示从盘符开始的treeview
2、open_workspace dialog 鼠标右键Action未定义，期待现象，打开右键菜单，可以执行文件操作
3、open_workspace dialog 新建文件夹后，不能自动定位到新建的文件夹并处于可编辑文件夹名状态
4、open_checkpoint dialog的filter使用的是".sim" 具体filter应该是什么未定义
5、workspace path暂时定义，以后修正
存在疑问点：
1、open_workspace dialog和open_checkpoint dialog等为什么是main window create时建立，而不是点击menu button时建立
2、运行程序时出现的Terminal如何去掉
commit af0c540084b62704b0ac48f15aa6ac7935c74b57
Author: DURD <durd@SUSE.site>
Date:   Tue Oct 15 19:00:08 2013 +0800

    add sim-qt.pro

commit bbb6546a683f7771d9db2f5d10d775a278ee26da
Author: DURD <durd@SUSE.site>
Date:   Tue Oct 15 18:54:26 2013 +0800

    delete sim-qt.pro

commit 2d7619a3fc115dc365d166fb3429478931752bad
Author: DURD <durd@SUSE.site>
Date:   Tue Oct 15 18:40:57 2013 +0800

    变更create workspace和open checkpoint，基本符合要求

commit 6d1d3c38bfb6ab33f50501b9cd57f2202e8ba663
Merge: 22b0e37 4f49c4b
Author: durd07 <durd07@163.com>
Date:   Tue Oct 15 02:24:26 2013 +0800

    Merge branch 'develop' of https://github.com/durd07/sim-qt into develop
    
    Conflicts:
    	open_checkpoint_dialog.cpp
    	open_checkpoint_dialog.h
    	open_checkpoint_dialog_slots.cpp

commit 22b0e3741f01137a85fa3c51c45523eeaacaa660
Author: DURD <durd@SUSE.site>
Date:   Tue Oct 15 01:42:36 2013 +0800

    上传代码 重构之后的 改用filesystemmodel
     将open——checkpointdialog也重构了

commit 4f49c4bade1fc853fb923c11263c0a3434a62626
Author: DURD <durd@SUSE.site>
Date:   Mon Oct 14 22:12:36 2013 +0800

    上传代码 重构之后的 改用filesystemmodel

commit 6c2b02d7dff1a6acdd5cc40706561c931cb574d8
Author: DURD <durd@SUSE.site>
Date:   Mon Oct 14 22:10:21 2013 +0800

    第一次的代码，用fileinfo实现  重构之前

commit 0407c51e068316421870da01ce159bcbc2e0c246
Author: DURD <durd@SUSE.site>
Date:   Sun Oct 13 17:50:39 2013 +0800

    open_checkpoint_dialog over

commit a1b9fd134c0bca0b483a307a16b7524aa210fdd6
Author: DURD <durd@SUSE.site>
Date:   Thu Oct 10 23:08:20 2013 +0800

    delete unsless things

commit 58f250c49e97814b241661a36f6740e1ef6d10ce
Author: DURD <durd@SUSE.site>
Date:   Thu Oct 10 23:02:12 2013 +0800

    modified the open new empty action

commit 675baec8d46f90a5804716326d443d66b6cd140f
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 22:14:41 2013 +0800

    diff --git a/create_workspace_dialog.cpp b/create_workspace_dialog.cpp
    index ea96140..696fb44 100644
    --- a/create_workspace_dialog.cpp
    +++ b/create_workspace_dialog.cpp
    @@ -1,3 +1,6 @@
    +#include <QDirModel>
    +#include <QStandardPaths>
    +#include <QFileSystemModel>
     #include "create_workspace_dialog.h"
     #include "ui_create_workspace_dialog.h"
    
    @@ -5,6 +8,21 @@ CreateWorkspaceDialog::CreateWorkspaceDialog(QWidget *parent) :
         QWidget(parent),
         create_workspace_dialog_ui_(new Ui::CreateWorkspaceDialog) {
         create_workspace_dialog_ui_->setupUi(this);
    +    #if 0
    +    QDirModel *model = new QDirModel(this);
    +    QString home_files = QStandardPaths::writableLocation(QStandardPaths::HomeLocation);
    +    QModelIndex homeIndex = model->index(home_files);
    +    QString desktop_path = QStandardPaths::storageLocation(QStandardPaths::DesktopLocation);
    +    QString document_path = QStandardPaths::storageLocation(QStandardPaths::DocumentsLocation);
    +    QString home_path = QStandardPaths::storageLocation(QStandardPaths::HomeLocation);
    +    QString application_path = QStandardPaths::storageLocatio(QStandardPaths::ApplicationsLocation);
    +    QString temp_path = QStandardPaths::storageLocation(QStandardPaths::TempLocation);
    +    QFileSystemModel *model = new QFileSystemModel;
    +    QModelIndex modelIndex = model->setRootPath(model->myComputer());
    +    create_workspace_dialog_ui_->DirecotoryTreeView->setModel(model);
    +    create_workspace_dialog_ui_->DirecotoryTreeView->setRootIndex(modelIndex)
    +        //create_workspace_dialog_ui_->DirecotoryTreeView->setRootIndex(homeIndex);
    +#endif
     }
    
     CreateWorkspaceDialog::~CreateWorkspaceDialog() {
    diff --git a/main_window.cpp b/main_window.cpp
    index 8f4f48d..8634603 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -1,6 +1,7 @@
     #include "main_window.h"
     #include "ui_main_window.h"
     #include "sim_application.h"
    +#include <QLabel>
    
     static MainWindow *gbl_cur_main_window = NULL;
    
    @@ -9,7 +10,16 @@ MainWindow::MainWindow(QWidget *parent) :
         main_ui_(new Ui::MainWindow) {
         gbl_cur_main_window = this;
         main_ui_->setupUi(this);
    -
    +#if 1                                   // fix me
    +    QLabel *x = new QLabel;
    +    x->setAlignment(Qt::AlignHCenter);
    +    x->setMinimumSize(x->sizeHint());
    +    QLabel *y = new QLabel;
    +    QLabel *z = new QLabel;
    +    main_ui_->statusBar->addWidget(x);
    +    main_ui_->statusBar->addWidget(y, 1);
    +    main_ui_->statusBar->addWidget(z, 2);
    +#endif
         setFileMenu();
    
     }

commit 913eb97c8db5549c5c16c72bf6abb743e4bacd31
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 19:49:25 2013 +0800

    diff --git a/main_window.ui b/main_window.ui
    index 3658e5d..66afb04 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -167,8 +167,8 @@
       </action>
       <action name="actionNewSessionFromScript">
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/new_session_from_script.png</normaloff>:/images/new_session_from_script.png</iconset>
        </property>
        <property name="text">
         <string>New session from script</string>
    @@ -188,8 +188,8 @@
       </action>
       <action name="actionOpenCheckpoint">
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/open_a_checkpoint.png</normaloff>:/images/open_a_checkpoint.png</iconset>
        </property>
        <property name="text">
         <string>Open Checkpoint...                       </string>
    @@ -206,8 +206,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/save_a_checkpoint.png</normaloff>:/images/save_a_checkpoint.png</iconset>
        </property>
        <property name="text">
         <string>Save Checkpoint...                        </string>
    @@ -278,8 +278,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/run_the_simulation_forwards.png</normaloff>:/images/run_the_simulation_forwards.png</iconset>
        </property>
        <property name="text">
         <string>Run the simulation forwards</string>
    @@ -293,8 +293,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/stop_the_simulation.png</normaloff>:/images/stop_the_simulation.png</iconset>
        </property>
        <property name="text">
         <string>Stop the simulation</string>
    @@ -308,8 +308,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/run_the_simulation_backwards.png</normaloff>:/images/run_the_simulation_backwards.png</iconset>
        </property>
        <property name="text">
         <string>Run the simulation backwards</string>
    @@ -326,8 +326,8 @@
         <bool>true</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/enable_or_disable_multithreaded_simulation.png</normaloff>:/images/enable_or_disable_multithreaded_simulation.png</iconset>
        </property>
        <property name="text">
         <string>Multithreading Enabled</string>
    @@ -344,8 +344,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/enable_or_disable_reverse_execution.png</normaloff>:/images/enable_or_disable_reverse_execution.png</iconset>
        </property>
        <property name="text">
         <string>Reverse Execution Enabled</string>
    @@ -556,6 +556,8 @@
        </property>
       </action>
      </widget>
    - <resources/>
    + <resources>
    +  <include location="icons.qrc"/>
    + </resources>
      <connections/>
     </ui>

commit e41ab4974e5a3f9ecfda36deef67742fb4f84e3c
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 19:49:02 2013 +0800

    diff --git a/icons.qrc b/icons.qrc
    index e69de29..7a6bc49 100644
    --- a/icons.qrc
    +++ b/icons.qrc
    @@ -0,0 +1,12 @@
    + <!DOCTYPE RCC><RCC version="1.0">
    + <qresource>
    +     <file>images/new_session_from_script.png</file>
    +     <file>images/open_a_checkpoint.png</file>
    +     <file>images/save_a_checkpoint.png</file>
    +     <file>images/run_the_simulation_backwards.png</file>
    +     <file>images/stop_the_simulation.png</file>
    +     <file>images/run_the_simulation_forwards.png</file>
    +     <file>images/enable_or_disable_multithreaded_simulation.png</file>
    +     <file>images/enable_or_disable_reverse_execution.png</file>
    + </qresource>
    + </RCC>
    diff --git a/main_window.ui b/main_window.ui
    index 3658e5d..66afb04 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -167,8 +167,8 @@
       </action>
       <action name="actionNewSessionFromScript">
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/new_session_from_script.png</normaloff>:/images/new_session_from_script.png</iconset>
        </property>
        <property name="text">
         <string>New session from script</string>
    @@ -188,8 +188,8 @@
       </action>
       <action name="actionOpenCheckpoint">
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/open_a_checkpoint.png</normaloff>:/images/open_a_checkpoint.png</iconset>
        </property>
        <property name="text">
         <string>Open Checkpoint...                       </string>
    @@ -206,8 +206,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/save_a_checkpoint.png</normaloff>:/images/save_a_checkpoint.png</iconset>
        </property>
        <property name="text">
         <string>Save Checkpoint...                        </string>
    @@ -278,8 +278,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/run_the_simulation_forwards.png</normaloff>:/images/run_the_simulation_forwards.png</iconset>
        </property>
        <property name="text">
         <string>Run the simulation forwards</string>
    @@ -293,8 +293,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/stop_the_simulation.png</normaloff>:/images/stop_the_simulation.png</iconset>
        </property>
        <property name="text">
         <string>Stop the simulation</string>
    @@ -308,8 +308,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/run_the_simulation_backwards.png</normaloff>:/images/run_the_simulation_backwards.png</iconset>
        </property>
        <property name="text">
         <string>Run the simulation backwards</string>
    @@ -326,8 +326,8 @@
         <bool>true</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/enable_or_disable_multithreaded_simulation.png</normaloff>:/images/enable_or_disable_multithreaded_simulation.png</iconset>
        </property>
        <property name="text">
         <string>Multithreading Enabled</string>
    @@ -344,8 +344,8 @@
         <bool>false</bool>
        </property>
        <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    +    <iconset resource="icons.qrc">
    +     <normaloff>:/images/enable_or_disable_reverse_execution.png</normaloff>:/images/enable_or_disable_reverse_execution.png</iconset>
        </property>
        <property name="text">
         <string>Reverse Execution Enabled</string>
    @@ -556,6 +556,8 @@
        </property>
       </action>
      </widget>
    - <resources/>
    + <resources>
    +  <include location="icons.qrc"/>
    + </resources>
      <connections/>
     </ui>
    diff --git a/sim-qt.pro b/sim-qt.pro
    index 86257e3..8073ea7 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -31,3 +31,5 @@ HEADERS += main_window.h\
                create_workspace_dialog.h
    
     FORMS += cli.ui main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui
    +
    +RESOURCES = icons.qrc

commit b9ce8ea9190ed959e3f0ce69a1091f3738cdd975
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 19:00:47 2013 +0800

    diff --git a/main_window.ui b/main_window.ui
    index 76ef09a..3658e5d 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -1,537 +1,561 @@
     <?xml version="1.0" encoding="UTF-8"?>
     <ui version="4.0">
    -  <class>MainWindow</class>
    -  <widget class="QMainWindow" name="MainWindow">
    -    <property name="geometry">
    -      <rect>
    -        <x>0</x>
    -        <y>0</y>
    -        <width>407</width>
    -        <height>268</height>
    -      </rect>
    + <class>MainWindow</class>
    + <widget class="QMainWindow" name="MainWindow">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>407</width>
    +    <height>268</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>Sim Control</string>
    +  </property>
    +  <widget class="QWidget" name="centralwidget">
    +   <layout class="QGridLayout" name="gridLayout">
    +    <item row="0" column="0">
    +     <widget class="QFrame" name="frame">
    +      <property name="frameShape">
    +       <enum>QFrame::StyledPanel</enum>
    +      </property>
    +      <property name="frameShadow">
    +       <enum>QFrame::Raised</enum>
    +      </property>
    +     </widget>
    +    </item>
    +   </layout>
    +  </widget>
    +  <widget class="QMenuBar" name="menubar">
    +   <property name="geometry">
    +    <rect>
    +     <x>0</x>
    +     <y>0</y>
    +     <width>407</width>
    +     <height>27</height>
    +    </rect>
    +   </property>
    +   <widget class="QMenu" name="menuFile">
    +    <property name="title">
    +     <string>File</string>
         </property>
    -    <property name="windowTitle">
    -      <string>Sim Control</string>
    +    <addaction name="actionNewEmptySession"/>
    +    <addaction name="actionNewSessionFromScript"/>
    +    <addaction name="actionOpenCheckpoint"/>
    +    <addaction name="actionSaveCheckpoint"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionAppendFromScript"/>
    +    <addaction name="actionAppendFromCheckpoint"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionLoadPresistentState"/>
    +    <addaction name="actionSavePresistentState"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionRunPythonFile"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionCreateWorkspace"/>
    +    <addaction name="actionChangeWorkspace"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionExit"/>
    +   </widget>
    +   <widget class="QMenu" name="menuEdit">
    +    <property name="title">
    +     <string>Edit</string>
         </property>
    -    <widget class="QWidget" name="centralwidget">
    -      <layout class="QGridLayout" name="gridLayout">
    -        <item row="0" column="0">
    -          <widget class="QFrame" name="frame">
    -            <property name="frameShape">
    -              <enum>QFrame::StyledPanel</enum>
    -            </property>
    -            <property name="frameShadow">
    -              <enum>QFrame::Raised</enum>
    -            </property>
    -          </widget>
    -        </item>
    -      </layout>
    -    </widget>
    -    <widget class="QMenuBar" name="menubar">
    -      <property name="geometry">
    -        <rect>
    -          <x>0</x>
    -          <y>0</y>
    -          <width>407</width>
    -          <height>27</height>
    -        </rect>
    -      </property>
    -      <widget class="QMenu" name="menuFile">
    -        <property name="title">
    -          <string>File</string>
    -        </property>
    -        <addaction name="actionNewEmptySession"/>
    -        <addaction name="actionNewSessionFromScript"/>
    -        <addaction name="actionOpenCheckpoint"/>
    -        <addaction name="actionSaveCheckpoint"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionAppendFromScript"/>
    -        <addaction name="actionAppendFromCheckpoint"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionLoadPresistentState"/>
    -        <addaction name="actionSavePresistentState"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionRunPythonFile"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionCreateWorkspace"/>
    -        <addaction name="actionChangeWorkspace"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionExit"/>
    -      </widget>
    -      <widget class="QMenu" name="menuEdit">
    -        <property name="title">
    -          <string>Edit</string>
    -        </property>
    -        <addaction name="actionPreferences"/>
    -      </widget>
    -      <widget class="QMenu" name="menuRun">
    -        <property name="title">
    -          <string>Run</string>
    -        </property>
    -        <addaction name="actionRunForward"/>
    -        <addaction name="actionStop"/>
    -        <addaction name="actionRunReverse"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionMultithreadingEnabled"/>
    -        <addaction name="actionReverseExecutionEnabled"/>
    -        <addaction name="actionClearInputRecording"/>
    -      </widget>
    -      <widget class="QMenu" name="menuDebug">
    -        <property name="title">
    -          <string>Debug</string>
    -        </property>
    -        <addaction name="actionDisassembly"/>
    -        <addaction name="actionStackTrace"/>
    -        <addaction name="actionSourceView"/>
    -        <addaction name="actionCPURegisters"/>
    -        <addaction name="actionDeviceRegisters"/>
    -        <addaction name="actionMemoryContents"/>
    -      </widget>
    -      <widget class="QMenu" name="menuTools">
    -        <property name="title">
    -          <string>Tools</string>
    -        </property>
    -        <addaction name="actionCommandLineWindow"/>
    -        <addaction name="actionCommandBrowser"/>
    -        <addaction name="actionHapsBrowser"/>
    -        <addaction name="actionObjectBrowser"/>
    -        <addaction name="atcionConfigurationBrowser"/>
    -        <addaction name="actionNewStatisticsPlot"/>
    -        <addaction name="actionMemoryMappingsBrowser"/>
    -      </widget>
    -      <widget class="QMenu" name="menuWindow">
    -        <property name="title">
    -          <string>Window</string>
    -        </property>
    -        <addaction name="actionMinimizeAllConsoles"/>
    -        <addaction name="actionRestoreAllConsoles"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionOpenAllConsoles"/>
    -        <addaction name="actionCloseAllConsoles"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionNoConsoleWindows"/>
    -      </widget>
    -      <widget class="QMenu" name="menuHelp">
    -        <property name="title">
    -          <string>Help</string>
    -        </property>
    -        <addaction name="actionContents"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionGettingStarted"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionTechnicalSupport"/>
    -        <addaction name="actionBugReportForum"/>
    -        <addaction name="actionUserRegistration"/>
    -        <addaction name="actionVirtutechWebsite"/>
    -        <addaction name="separator"/>
    -        <addaction name="actionLicense"/>
    -        <addaction name="actionAbout"/>
    -      </widget>
    -      <addaction name="menuFile"/>
    -      <addaction name="menuEdit"/>
    -      <addaction name="menuRun"/>
    -      <addaction name="menuDebug"/>
    -      <addaction name="menuTools"/>
    -      <addaction name="menuWindow"/>
    -      <addaction name="menuHelp"/>
    -    </widget>
    -    <widget class="QStatusBar" name="statusBar"/>
    -    <widget class="QToolBar" name="toolBar">
    -      <property name="windowTitle">
    -        <string>toolBar</string>
    -      </property>
    -      <attribute name="toolBarArea">
    -        <enum>TopToolBarArea</enum>
    -      </attribute>
    -      <attribute name="toolBarBreak">
    -        <bool>false</bool>
    -      </attribute>
    -      <addaction name="actionNewSessionFromScript"/>
    -      <addaction name="actionOpenCheckpoint"/>
    -      <addaction name="actionSaveCheckpoint"/>
    -      <addaction name="separator"/>
    -      <addaction name="actionRunReverse"/>
    -      <addaction name="actionStop"/>
    -      <addaction name="actionRunForward"/>
    -      <addaction name="separator"/>
    -      <addaction name="actionMultithreadingEnabled"/>
    -      <addaction name="actionReverseExecutionEnabled"/>
    -    </widget>
    -    <action name="actionNewEmptySession">
    -      <property name="text">
    -        <string>New Empty Session</string>
    -      </property>
    -      <property name="menuRole">
    -        <enum>QAction::ApplicationSpecificRole</enum>
    -      </property>
    -    </action>
    -    <action name="actionNewSessionFromScript">
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>New session from script</string>
    -      </property>
    -      <property name="shortcut">
    -        <string>Ctrl+N</string>
    -      </property>
    -      <property name="visible">
    -        <bool>true</bool>
    -      </property>
    -      <property name="menuRole">
    -        <enum>QAction::TextHeuristicRole</enum>
    -      </property>
    -    </action>
    -    <action name="actionOpenCheckpoint">
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Open Checkpoint...                       </string>
    -      </property>
    -      <property name="shortcut">
    -        <string>Ctrl+O</string>
    -      </property>
    -    </action>
    -    <action name="actionSaveCheckpoint">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Save Checkpoint...                        </string>
    -      </property>
    -      <property name="shortcut">
    -        <string>Ctrl+S</string>
    -      </property>
    -    </action>
    -    <action name="actionAppendFromScript">
    -      <property name="text">
    -        <string>Append from Script...</string>
    -      </property>
    -    </action>
    -    <action name="actionAppendFromCheckpoint">
    -      <property name="text">
    -        <string>Append from Checkpoint...</string>
    -      </property>
    -    </action>
    -    <action name="actionLoadPresistentState">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Load Presistent State...</string>
    -      </property>
    -    </action>
    -    <action name="actionSavePresistentState">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Save Persistent State...</string>
    -      </property>
    -    </action>
    -    <action name="actionRunPythonFile">
    -      <property name="text">
    -        <string>Run Python File...</string>
    -      </property>
    -    </action>
    -    <action name="actionCreateWorkspace">
    -      <property name="text">
    -        <string>Create Workspace...</string>
    -      </property>
    -    </action>
    -    <action name="actionChangeWorkspace">
    -      <property name="text">
    -        <string>Change Workspace...</string>
    -      </property>
    -    </action>
    -    <action name="actionExit">
    -      <property name="text">
    -        <string>Exit                                             </string>
    -      </property>
    -      <property name="shortcut">
    -        <string>Alt+F4</string>
    -      </property>
    -    </action>
    -    <action name="actionPreferences">
    -      <property name="text">
    -        <string>Preferences</string>
    -      </property>
    -    </action>
    -    <action name="actionRunForward">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Run the simulation forwards</string>
    -      </property>
    -    </action>
    -    <action name="actionStop">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Stop the simulation</string>
    -      </property>
    -    </action>
    -    <action name="actionRunReverse">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Run the simulation backwards</string>
    -      </property>
    -    </action>
    -    <action name="actionMultithreadingEnabled">
    -      <property name="checkable">
    -        <bool>true</bool>
    -      </property>
    -      <property name="checked">
    -        <bool>true</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Multithreading Enabled</string>
    -      </property>
    -    </action>
    -    <action name="actionReverseExecutionEnabled">
    -      <property name="checkable">
    -        <bool>true</bool>
    -      </property>
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Reverse Execution Enabled</string>
    -      </property>
    -    </action>
    -    <action name="actionDisassembly">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Disassembly</string>
    -      </property>
    -    </action>
    -    <action name="actionStackTrace">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Stack Trace</string>
    -      </property>
    -    </action>
    -    <action name="actionSourceView">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Source View</string>
    -      </property>
    -    </action>
    -    <action name="actionCPURegisters">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>CPU Registers</string>
    -      </property>
    -    </action>
    -    <action name="actionDeviceRegisters">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Device Registers</string>
    -      </property>
    -    </action>
    -    <action name="actionMemoryContents">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Memory Contents</string>
    -      </property>
    -    </action>
    -    <action name="actionCommandLineWindow">
    -      <property name="text">
    -        <string>Command Line Window</string>
    -      </property>
    -    </action>
    -    <action name="actionCommandBrowser">
    -      <property name="text">
    -        <string>Command Browser</string>
    -      </property>
    -    </action>
    -    <action name="actionHapsBrowser">
    -      <property name="text">
    -        <string>Haps Brower</string>
    -      </property>
    -    </action>
    -    <action name="actionObjectBrowser">
    -      <property name="text">
    -        <string>Object Brower</string>
    -      </property>
    -    </action>
    -    <action name="atcionConfigurationBrowser">
    -      <property name="text">
    -        <string>Configuration Brower</string>
    -      </property>
    -    </action>
    -    <action name="actionNewStatisticsPlot">
    -      <property name="text">
    -        <string>New Statistics Plot</string>
    -      </property>
    -    </action>
    -    <action name="actionMemoryMappingsBrowser">
    -      <property name="text">
    -        <string>Memory Mappings Browser</string>
    -      </property>
    -    </action>
    -    <action name="actionMinimizeAllConsoles">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Minimize All Consoles</string>
    -      </property>
    -    </action>
    -    <action name="actionRestoreAllConsoles">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Restore All Consoles</string>
    -      </property>
    -    </action>
    -    <action name="actionOpenAllConsoles">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Open All Consoles</string>
    -      </property>
    -    </action>
    -    <action name="actionCloseAllConsoles">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Close All Consoles</string>
    -      </property>
    -    </action>
    -    <action name="actionNoConsoleWindows">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>&lt;No Console Windows&gt;</string>
    -      </property>
    -    </action>
    -    <action name="actionContents">
    -      <property name="text">
    -        <string>Contents</string>
    -      </property>
    -      <property name="shortcut">
    -        <string>Ctrl+F1</string>
    -      </property>
    -    </action>
    -    <action name="actionGettingStarted">
    -      <property name="text">
    -        <string>Getting Started</string>
    -      </property>
    -    </action>
    -    <action name="actionTechnicalSupport">
    -      <property name="text">
    -        <string>Technical Support</string>
    -      </property>
    -    </action>
    -    <action name="actionBugReportForum">
    -      <property name="text">
    -        <string>Bug Report Forum</string>
    -      </property>
    -    </action>
    -    <action name="actionUserRegistration">
    -      <property name="text">
    -        <string>User Registration</string>
    -      </property>
    -    </action>
    -    <action name="actionVirtutechWebsite">
    -      <property name="text">
    -        <string>Sim Website</string>
    -      </property>
    -    </action>
    -    <action name="actionLicense">
    -      <property name="text">
    -        <string>License</string>
    -      </property>
    -    </action>
    -    <action name="actionAbout">
    -      <property name="text">
    -        <string>About</string>
    -      </property>
    -    </action>
    -    <action name="actionRunTheSimulationBackwards">
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Run the simulation backwards</string>
    -      </property>
    -    </action>
    -    <action name="actionStopTheSimulation">
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Stop the simulation</string>
    -      </property>
    -    </action>
    -    <action name="actionRunTheSimulationForwards">
    -      <property name="icon">
    -        <iconset>
    -        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    -      </property>
    -      <property name="text">
    -        <string>Run the simulation forwards</string>
    -      </property>
    -    </action>
    -    <action name="actionClearInputRecording">
    -      <property name="enabled">
    -        <bool>false</bool>
    -      </property>
    -      <property name="text">
    -        <string>Clear Input Recording</string>
    -      </property>
    -    </action>
    +    <addaction name="actionPreferences"/>
    +   </widget>
    +   <widget class="QMenu" name="menuRun">
    +    <property name="title">
    +     <string>Run</string>
    +    </property>
    +    <addaction name="actionRunForward"/>
    +    <addaction name="actionStop"/>
    +    <addaction name="actionRunReverse"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionMultithreadingEnabled"/>
    +    <addaction name="actionReverseExecutionEnabled"/>
    +    <addaction name="actionClearInputRecording"/>
    +   </widget>
    +   <widget class="QMenu" name="menuDebug">
    +    <property name="title">
    +     <string>Debug</string>
    +    </property>
    +    <addaction name="actionDisassembly"/>
    +    <addaction name="actionStackTrace"/>
    +    <addaction name="actionSourceView"/>
    +    <addaction name="actionCPURegisters"/>
    +    <addaction name="actionDeviceRegisters"/>
    +    <addaction name="actionMemoryContents"/>
    +   </widget>
    +   <widget class="QMenu" name="menuTools">
    +    <property name="title">
    +     <string>Tools</string>
    +    </property>
    +    <addaction name="actionCommandLineWindow"/>
    +    <addaction name="actionCommandBrowser"/>
    +    <addaction name="actionHapsBrowser"/>
    +    <addaction name="actionObjectBrowser"/>
    +    <addaction name="atcionConfigurationBrowser"/>
    +    <addaction name="actionNewStatisticsPlot"/>
    +    <addaction name="actionMemoryMappingsBrowser"/>
    +   </widget>
    +   <widget class="QMenu" name="menuWindow">
    +    <property name="title">
    +     <string>Window</string>
    +    </property>
    +    <addaction name="actionMinimizeAllConsoles"/>
    +    <addaction name="actionRestoreAllConsoles"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionOpenAllConsoles"/>
    +    <addaction name="actionCloseAllConsoles"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionNoConsoleWindows"/>
    +   </widget>
    +   <widget class="QMenu" name="menuHelp">
    +    <property name="title">
    +     <string>Help</string>
    +    </property>
    +    <addaction name="actionContents"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionGettingStarted"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionTechnicalSupport"/>
    +    <addaction name="actionBugReportForum"/>
    +    <addaction name="actionUserRegistration"/>
    +    <addaction name="actionVirtutechWebsite"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionLicense"/>
    +    <addaction name="actionAbout"/>
    +   </widget>
    +   <addaction name="menuFile"/>
    +   <addaction name="menuEdit"/>
    +   <addaction name="menuRun"/>
    +   <addaction name="menuDebug"/>
    +   <addaction name="menuTools"/>
    +   <addaction name="menuWindow"/>
    +   <addaction name="menuHelp"/>
    +  </widget>
    +  <widget class="QStatusBar" name="statusBar"/>
    +  <widget class="QToolBar" name="toolBar">
    +   <property name="windowTitle">
    +    <string>toolBar</string>
    +   </property>
    +   <attribute name="toolBarArea">
    +    <enum>TopToolBarArea</enum>
    +   </attribute>
    +   <attribute name="toolBarBreak">
    +    <bool>false</bool>
    +   </attribute>
    +   <addaction name="actionNewSessionFromScript"/>
    +   <addaction name="actionOpenCheckpoint"/>
    +   <addaction name="actionSaveCheckpoint"/>
    +   <addaction name="separator"/>
    +   <addaction name="actionRunReverse"/>
    +   <addaction name="actionStop"/>
    +   <addaction name="actionRunForward"/>
    +   <addaction name="separator"/>
    +   <addaction name="actionMultithreadingEnabled"/>
    +   <addaction name="actionReverseExecutionEnabled"/>
       </widget>
    -  <resources/>
    -  <connections/>
    +  <action name="actionNewEmptySession">
    +   <property name="text">
    +    <string>New Empty Session</string>
    +   </property>
    +   <property name="menuRole">
    +    <enum>QAction::ApplicationSpecificRole</enum>
    +   </property>
    +  </action>
    +  <action name="actionNewSessionFromScript">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>New session from script</string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+N</string>
    +   </property>
    +   <property name="visible">
    +    <bool>true</bool>
    +   </property>
    +   <property name="menuRole">
    +    <enum>QAction::TextHeuristicRole</enum>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionOpenCheckpoint">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Open Checkpoint...                       </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+O</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionSaveCheckpoint">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Save Checkpoint...                        </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+S</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionAppendFromScript">
    +   <property name="text">
    +    <string>Append from Script...</string>
    +   </property>
    +  </action>
    +  <action name="actionAppendFromCheckpoint">
    +   <property name="text">
    +    <string>Append from Checkpoint...</string>
    +   </property>
    +  </action>
    +  <action name="actionLoadPresistentState">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Load Presistent State...</string>
    +   </property>
    +  </action>
    +  <action name="actionSavePresistentState">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Save Persistent State...</string>
    +   </property>
    +  </action>
    +  <action name="actionRunPythonFile">
    +   <property name="text">
    +    <string>Run Python File...</string>
    +   </property>
    +  </action>
    +  <action name="actionCreateWorkspace">
    +   <property name="text">
    +    <string>Create Workspace...</string>
    +   </property>
    +  </action>
    +  <action name="actionChangeWorkspace">
    +   <property name="text">
    +    <string>Change Workspace...</string>
    +   </property>
    +  </action>
    +  <action name="actionExit">
    +   <property name="text">
    +    <string>Exit                                             </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Alt+F4</string>
    +   </property>
    +  </action>
    +  <action name="actionPreferences">
    +   <property name="text">
    +    <string>Preferences</string>
    +   </property>
    +  </action>
    +  <action name="actionRunForward">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation forwards</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionStop">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Stop the simulation</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionRunReverse">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation backwards</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionMultithreadingEnabled">
    +   <property name="checkable">
    +    <bool>true</bool>
    +   </property>
    +   <property name="checked">
    +    <bool>true</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Multithreading Enabled</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionReverseExecutionEnabled">
    +   <property name="checkable">
    +    <bool>true</bool>
    +   </property>
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Reverse Execution Enabled</string>
    +   </property>
    +   <property name="iconVisibleInMenu">
    +    <bool>false</bool>
    +   </property>
    +  </action>
    +  <action name="actionDisassembly">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Disassembly</string>
    +   </property>
    +  </action>
    +  <action name="actionStackTrace">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Stack Trace</string>
    +   </property>
    +  </action>
    +  <action name="actionSourceView">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Source View</string>
    +   </property>
    +  </action>
    +  <action name="actionCPURegisters">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>CPU Registers</string>
    +   </property>
    +  </action>
    +  <action name="actionDeviceRegisters">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Device Registers</string>
    +   </property>
    +  </action>
    +  <action name="actionMemoryContents">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Memory Contents</string>
    +   </property>
    +  </action>
    +  <action name="actionCommandLineWindow">
    +   <property name="text">
    +    <string>Command Line Window</string>
    +   </property>
    +  </action>
    +  <action name="actionCommandBrowser">
    +   <property name="text">
    +    <string>Command Browser</string>
    +   </property>
    +  </action>
    +  <action name="actionHapsBrowser">
    +   <property name="text">
    +    <string>Haps Brower</string>
    +   </property>
    +  </action>
    +  <action name="actionObjectBrowser">
    +   <property name="text">
    +    <string>Object Brower</string>
    +   </property>
    +  </action>
    +  <action name="atcionConfigurationBrowser">
    +   <property name="text">
    +    <string>Configuration Brower</string>
    +   </property>
    +  </action>
    +  <action name="actionNewStatisticsPlot">
    +   <property name="text">
    +    <string>New Statistics Plot</string>
    +   </property>
    +  </action>
    +  <action name="actionMemoryMappingsBrowser">
    +   <property name="text">
    +    <string>Memory Mappings Browser</string>
    +   </property>
    +  </action>
    +  <action name="actionMinimizeAllConsoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Minimize All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionRestoreAllConsoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Restore All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionOpenAllConsoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Open All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionCloseAllConsoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Close All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionNoConsoleWindows">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>&lt;No Console Windows&gt;</string>
    +   </property>
    +  </action>
    +  <action name="actionContents">
    +   <property name="text">
    +    <string>Contents</string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+F1</string>
    +   </property>
    +  </action>
    +  <action name="actionGettingStarted">
    +   <property name="text">
    +    <string>Getting Started</string>
    +   </property>
    +  </action>
    +  <action name="actionTechnicalSupport">
    +   <property name="text">
    +    <string>Technical Support</string>
    +   </property>
    +  </action>
    +  <action name="actionBugReportForum">
    +   <property name="text">
    +    <string>Bug Report Forum</string>
    +   </property>
    +  </action>
    +  <action name="actionUserRegistration">
    +   <property name="text">
    +    <string>User Registration</string>
    +   </property>
    +  </action>
    +  <action name="actionVirtutechWebsite">
    +   <property name="text">
    +    <string>Sim Website</string>
    +   </property>
    +  </action>
    +  <action name="actionLicense">
    +   <property name="text">
    +    <string>License</string>
    +   </property>
    +  </action>
    +  <action name="actionAbout">
    +   <property name="text">
    +    <string>About</string>
    +   </property>
    +  </action>
    +  <action name="actionRunTheSimulationBackwards">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation backwards</string>
    +   </property>
    +  </action>
    +  <action name="actionStopTheSimulation">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Stop the simulation</string>
    +   </property>
    +  </action>
    +  <action name="actionRunTheSimulationForwards">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation forwards</string>
    +   </property>
    +  </action>
    +  <action name="actionClearInputRecording">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Clear Input Recording</string>
    +   </property>
    +  </action>
    + </widget>
    + <resources/>
    + <connections/>
     </ui>

commit 5f38825a3a482050ca590206b69c091a698a1584
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 17:42:14 2013 +0800

    diff --git a/sim-qt.pro b/sim-qt.pro
    index df3bf47..86257e3 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -20,11 +20,14 @@ SOURCES += main.cpp\
                open_checkpoint_dialog_slots.cpp\
                create_workspace_dialog.cpp\
                create_workspace_dialog_slots.cpp\
    +           open_command_line_window_dialog.cpp\
    +           open_command_line_window_dialog_slots.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\
                sim_application.h\
                open_checkpoint_dialog.h\
    +           open_command_line_window_dialog.h\
                create_workspace_dialog.h
    
     FORMS += cli.ui main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui

commit 47f459f72a7daa2e2a8246f12470fbb4f07f937e
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Tue Sep 24 17:41:53 2013 +0800

    diff --git a/cli.ui b/cli.ui
    index 7c308bb..082e214 100644
    --- a/cli.ui
    +++ b/cli.ui
    @@ -1,7 +1,7 @@
     <?xml version="1.0" encoding="UTF-8"?>
     <ui version="4.0">
    - <class>widget</class>
    - <widget class="QWidget" name="widget">
    + <class>OpenCommandLineWindowDialog</class>
    + <widget class="QWidget" name="OpenCommandLineWindowDialog">
       <property name="geometry">
        <rect>
         <x>0</x>
    @@ -18,7 +18,7 @@
       </property>
       <layout class="QGridLayout" name="gridLayout">
        <item row="0" column="0">
    -    <widget class="QPlainTextEdit" name="plainTextEdit">
    +    <widget class="QPlainTextEdit" name="commandPlainTextEdit">
          <property name="layoutDirection">
           <enum>Qt::LeftToRight</enum>
          </property>
    diff --git a/main_window.cpp b/main_window.cpp
    index 10bbb6d..8f4f48d 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -33,6 +33,9 @@ void MainWindow::setFileMenu(void) {
                 &this->create_workspace_dialog, SLOT(changeWorkspace()));
         connect(main_ui_->actionExit, SIGNAL(triggered()),
                 simApp, SLOT(closeAllWindows()));
    +
    +    connect(main_ui_->actionCommandLineWindow, SIGNAL(triggered()),
    +            &this->open_command_line_window_dialog, SLOT(openCommandLineWindow()));
     }
    
     MainWindow::~MainWindow() {
    diff --git a/main_window.h b/main_window.h
    index 48f7035..2ca7de9 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -4,6 +4,7 @@
     #include <QMainWindow>
     #include "open_checkpoint_dialog.h"
     #include "create_workspace_dialog.h"
    +#include "open_command_line_window_dialog.h"
    
     namespace Ui {
         class MainWindow;
    @@ -21,7 +22,6 @@ private:
         void setEditMenu(void);
         void setRunMenu(void);
         void setDebugMenu(void);
    -    void setToolsMenu(void);
         void setWindowMenu(void);
         void setHelpMenu(void);
     signals:
    @@ -35,10 +35,15 @@ private slots:
         void runPythonFile(void);
    
     private:
    +    void setToolsMenu(void);
    +signals:
    +private slots:
    +
    +private:
         Ui::MainWindow *main_ui_;
         OpenCheckpointDialog open_checkpoint_dialog;
         CreateWorkspaceDialog create_workspace_dialog;
    -
    +    OpenCommandLineWindowDialog open_command_line_window_dialog;
     };
    
     #endif
    diff --git a/main_window_tools_slots.cpp b/main_window_tools_slots.cpp
    index 8b13789..491114b 100644
    --- a/main_window_tools_slots.cpp
    +++ b/main_window_tools_slots.cpp
    @@ -1 +1,7 @@
    +#include "main_window.h"
    +#include "ui_cli.h"
    +
    +void MainWindow::openCommandLineWindow(void) {
    +
    +}
    
    diff --git a/open_checkpoint_dialog_slots.cpp b/open_checkpoint_dialog_slots.cpp
    index 98dfb66..307cc56 100644
    --- a/open_checkpoint_dialog_slots.cpp
    +++ b/open_checkpoint_dialog_slots.cpp
    @@ -1,6 +1,5 @@
     #include "open_checkpoint_dialog.h"
     #include "ui_open_checkpoint_dialog.h"
    -#include <cstdio>
    
     void OpenCheckpointDialog::openCheckpoint(void) {
         this->show();
    diff --git a/open_command_line_window_dialog.cpp b/open_command_line_window_dialog.cpp
    index e69de29..c004a85 100644
    --- a/open_command_line_window_dialog.cpp
    +++ b/open_command_line_window_dialog.cpp
    @@ -0,0 +1,13 @@
    +#include "open_command_line_window_dialog.h"
    +#include "ui_cli.h"
    +
    +OpenCommandLineWindowDialog::OpenCommandLineWindowDialog(QWidget *parent) :
    +    QWidget(parent),
    +    open_command_line_window_dialog_ui_(new Ui::OpenCommandLineWindowDialog) {
    +    open_command_line_window_dialog_ui_->setupUi(this);
    +}
    +
    +OpenCommandLineWindowDialog::~OpenCommandLineWindowDialog() {
    +    delete open_command_line_window_dialog_ui_;
    +}
    +
    diff --git a/open_command_line_window_dialog.h b/open_command_line_window_dialog.h
    index e69de29..39817f9 100644
    --- a/open_command_line_window_dialog.h
    +++ b/open_command_line_window_dialog.h
    @@ -0,0 +1,24 @@
    +#ifndef OPEN_COMMAND_WINDOW_DIALOG_H
    +#define OPEN_COMMAND_WINDOW_DIALOG_H
    +
    +#include <QWidget>
    +
    +namespace Ui {
    +    class OpenCommandLineWindowDialog;
    +}
    +
    +class OpenCommandLineWindowDialog : public QWidget {
    +    Q_OBJECT
    +
    +public:
    +    explicit OpenCommandLineWindowDialog(QWidget *parent = 0);
    +    ~OpenCommandLineWindowDialog();
    +
    +private slots:
    +    void openCommandLineWindow(void);
    +
    +private:
    +    Ui::OpenCommandLineWindowDialog *open_command_line_window_dialog_ui_;
    +};
    +
    +#endif
    diff --git a/open_command_line_window_dialog_slots.cpp b/open_command_line_window_dialog_slots.cpp
    index e69de29..eed1f09 100644
    --- a/open_command_line_window_dialog_slots.cpp
    +++ b/open_command_line_window_dialog_slots.cpp
    @@ -0,0 +1,6 @@
    +#include "open_command_line_window_dialog.h"
    +#include "ui_cli.h"
    +
    +void OpenCommandLineWindowDialog::openCommandLineWindow(void) {
    +    this->show();
    +}
    diff --git a/sim-qt.pro b/sim-qt.pro
    index df3bf47..86257e3 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -20,11 +20,14 @@ SOURCES += main.cpp\
                open_checkpoint_dialog_slots.cpp\
                create_workspace_dialog.cpp\
                create_workspace_dialog_slots.cpp\
    +           open_command_line_window_dialog.cpp\
    +           open_command_line_window_dialog_slots.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\
                sim_application.h\
                open_checkpoint_dialog.h\
    +           open_command_line_window_dialog.h\
                create_workspace_dialog.h
    
     FORMS += cli.ui main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui

commit 7376d0acc0e541a0063d10144af964998b5f2346
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Mon Sep 23 21:59:07 2013 +0800

    diff --git a/main_window.h b/main_window.h
    index fbc0b38..48f7035 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -18,6 +18,12 @@ public:
    
     private:
         void setFileMenu(void);
    +    void setEditMenu(void);
    +    void setRunMenu(void);
    +    void setDebugMenu(void);
    +    void setToolsMenu(void);
    +    void setWindowMenu(void);
    +    void setHelpMenu(void);
     signals:
     private slots:
         void newEmptySession(void);
    @@ -27,6 +33,7 @@ private slots:
         bool loadPresistentState(void);
         bool savePresitentState(void);
         void runPythonFile(void);
    +
     private:
         Ui::MainWindow *main_ui_;
         OpenCheckpointDialog open_checkpoint_dialog;

commit 3ea84ff25596c1d39b389f22cf0efa2103f8a91d
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 23:46:41 2013 +0800

    diff --git a/open_checkpoint_dialog.cpp b/open_checkpoint_dialog.cpp
    index e9bc555..f9855a0 100644
    --- a/open_checkpoint_dialog.cpp
    +++ b/open_checkpoint_dialog.cpp
    @@ -1,21 +1,18 @@
    +#include <QStringList>
     #include "open_checkpoint_dialog.h"
     #include "ui_open_checkpoint_dialog.h"
    -#include <QStringList>
    -#include <QFileSystemModel>
    
     OpenCheckpointDialog::OpenCheckpointDialog(QWidget *parent) :
         QWidget(parent),
         open_checkpoint_dialog_ui_(new Ui::OpenCheckpointDialog) {
         open_checkpoint_dialog_ui_->setupUi(this);
    
    -    QFileSystemModel *model = new QFileSystemModel;
    -    model->setRootPath(QDir::currentPath());
    +    initFilesystemModel();
    +    initCheckpointDirectoryTreeView(fsModel);
    +    initSelectDirectoryComboBox(fsModel);
    
    -    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setModel(model);
    -    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setHeaderHidden(true);
    -    for (int i = 1; i < 4; ++i) {       // fix me: have better idea?
    -        open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->hideColumn(i);
    -    }
    +    connect(open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView, SIGNAL(clicked(QModelIndex)),
    +            this, SLOT(setComboRootIndex(QModelIndex)));
    
     #if 0
         QStringList test = QStringList()
    @@ -27,3 +24,20 @@ OpenCheckpointDialog::OpenCheckpointDialog(QWidget *parent) :
     OpenCheckpointDialog::~OpenCheckpointDialog() {
         delete open_checkpoint_dialog_ui_;
     }
    +
    +void OpenCheckpointDialog::initFilesystemModel(void) {
    +    fsModel = new QFileSystemModel;
    +    fsModel->setRootPath(QDir::currentPath());
    +}
    +
    +void OpenCheckpointDialog::initCheckpointDirectoryTreeView(QFileSystemModel *fsm) {
    +    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setModel(fsm);
    +    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setHeaderHidden(true);
    +    for (int i = 1; i < 4; ++i) {       // fix me: have better idea?
    +        open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->hideColumn(i);
    +    }
    +}
    +
    +void OpenCheckpointDialog::initSelectDirectoryComboBox(QFileSystemModel *fsm) {
    +    open_checkpoint_dialog_ui_->SelectDirectoryComboBox->setModel(fsm);
    +}
    diff --git a/open_checkpoint_dialog.h b/open_checkpoint_dialog.h
    index 5c8009c..5f9eecd 100644
    --- a/open_checkpoint_dialog.h
    +++ b/open_checkpoint_dialog.h
    @@ -2,6 +2,9 @@
     #define OPEN_CHECKPOINT_DIALOG_H
    
     #include <QWidget>
    +#include <QFileSystemModel>
    +
    +class QFileSystemModel;
    
     namespace Ui {
         class OpenCheckpointDialog;
    @@ -13,12 +16,18 @@ class OpenCheckpointDialog : public QWidget {
     public:
         explicit OpenCheckpointDialog(QWidget *parent = 0);
         ~OpenCheckpointDialog();
    +private:
    +    void initFilesystemModel(void);
    +    void initCheckpointDirectoryTreeView(QFileSystemModel *fsm);
    +    void initSelectDirectoryComboBox(QFileSystemModel *fsm);
    +
     private slots:
         void openCheckpoint(void);
         void appendFromCheckpoint(void);
    +    void setComboRootIndex(const QModelIndex &index);
     private:
         Ui::OpenCheckpointDialog *open_checkpoint_dialog_ui_;
    -
    +    QFileSystemModel *fsModel;
     };
    
     #endif
    diff --git a/open_checkpoint_dialog_slots.cpp b/open_checkpoint_dialog_slots.cpp
    index a11fb03..98dfb66 100644
    --- a/open_checkpoint_dialog_slots.cpp
    +++ b/open_checkpoint_dialog_slots.cpp
    @@ -1,5 +1,6 @@
     #include "open_checkpoint_dialog.h"
     #include "ui_open_checkpoint_dialog.h"
    +#include <cstdio>
    
     void OpenCheckpointDialog::openCheckpoint(void) {
         this->show();
    @@ -8,3 +9,13 @@ void OpenCheckpointDialog::openCheckpoint(void) {
     void OpenCheckpointDialog::appendFromCheckpoint(void) {
         this->show();
     }
    +
    +void OpenCheckpointDialog::setComboRootIndex(const QModelIndex &index) {
    +    if(fsModel->canFetchMore(index)) {
    +        fsModel->fetchMore(index);
    +    }
    +
    +    open_checkpoint_dialog_ui_
    +        ->SelectDirectoryComboBox
    +        ->setRootModelIndex(index);
    +}

commit a9856587296f9c04229e32b571fcdb6de7f3d969
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 23:08:01 2013 +0800

    diff --git a/open_checkpoint_dialog.cpp b/open_checkpoint_dialog.cpp
    index 1f6adc4..e9bc555 100644
    --- a/open_checkpoint_dialog.cpp
    +++ b/open_checkpoint_dialog.cpp
    @@ -1,10 +1,27 @@
     #include "open_checkpoint_dialog.h"
     #include "ui_open_checkpoint_dialog.h"
    +#include <QStringList>
    +#include <QFileSystemModel>
    
     OpenCheckpointDialog::OpenCheckpointDialog(QWidget *parent) :
         QWidget(parent),
         open_checkpoint_dialog_ui_(new Ui::OpenCheckpointDialog) {
         open_checkpoint_dialog_ui_->setupUi(this);
    +
    +    QFileSystemModel *model = new QFileSystemModel;
    +    model->setRootPath(QDir::currentPath());
    +
    +    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setModel(model);
    +    open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->setHeaderHidden(true);
    +    for (int i = 1; i < 4; ++i) {       // fix me: have better idea?
    +        open_checkpoint_dialog_ui_->CheckpointDirectoryTreeView->hideColumn(i);
    +    }
    +
    +#if 0
    +    QStringList test = QStringList()
    +                       <<"Computer";
    +    open_checkpoint_dialog_ui_->SelectDirectoryComboBox->addItems(test);
    +#endif
     }
    
     OpenCheckpointDialog::~OpenCheckpointDialog() {

commit 0be3de58f2c02587689cd0b7d26a5320df28492c
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 22:01:21 2013 +0800

    diff --git a/create_workspace_dialog.h b/create_workspace_dialog.h
    index 4c761fd..2038c87 100644
    --- a/create_workspace_dialog.h
    +++ b/create_workspace_dialog.h
    @@ -15,6 +15,7 @@ public:
         ~CreateWorkspaceDialog();
     private slots:
         void createWorkspace(void);
    +    void changeWorkspace(void);
     private:
         Ui::CreateWorkspaceDialog *create_workspace_dialog_ui_;
     };
    diff --git a/create_workspace_dialog_slots.cpp b/create_workspace_dialog_slots.cpp
    index 2162db7..88920be 100644
    --- a/create_workspace_dialog_slots.cpp
    +++ b/create_workspace_dialog_slots.cpp
    @@ -2,5 +2,15 @@
     #include "ui_create_workspace_dialog.h"
    
     void CreateWorkspaceDialog::createWorkspace(void) {
    +    this->create_workspace_dialog_ui_
    +        ->DialogInfoLabel->setText(QApplication::translate("CreateWorkspaceDialog",
    +                                                           "Select directory to use as workspace ...", 0));
    +    this->show();
    +}
    +
    +void CreateWorkspaceDialog::changeWorkspace(void) {
    +    this->create_workspace_dialog_ui_
    +        ->DialogInfoLabel->setText(QApplication::translate("CreateWorkspaceDialog",
    +                                                           "Select workspace to use ...", 0));
         this->show();
     }
    diff --git a/main_window.cpp b/main_window.cpp
    index a689223..10bbb6d 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -29,6 +29,8 @@ void MainWindow::setFileMenu(void) {
                 this, SLOT(runPythonFile()));
         connect(main_ui_->actionCreateWorkspace, SIGNAL(triggered()),
                 &this->create_workspace_dialog, SLOT(createWorkspace()));
    +    connect(main_ui_->actionChangeWorkspace, SIGNAL(triggered()),
    +            &this->create_workspace_dialog, SLOT(changeWorkspace()));
         connect(main_ui_->actionExit, SIGNAL(triggered()),
                 simApp, SLOT(closeAllWindows()));
     }
    diff --git a/open_checkpoint_dialog.ui b/open_checkpoint_dialog.ui
    index 4dd56e9..062637c 100644
    --- a/open_checkpoint_dialog.ui
    +++ b/open_checkpoint_dialog.ui
    @@ -11,7 +11,7 @@
        </rect>
       </property>
       <property name="windowTitle">
    -   <string>Form</string>
    +   <string>Select checkpoint</string>
       </property>
       <layout class="QGridLayout" name="gridLayout">
        <item row="0" column="0">

commit 672fe4e3e75118bb6f977d23eadd9a02dd184098
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 21:00:13 2013 +0800

    diff --git a/open_checkpoint_dialog.ui b/open_checkpoint_dialog.ui
    index e69de29..4dd56e9 100644
    --- a/open_checkpoint_dialog.ui
    +++ b/open_checkpoint_dialog.ui
    @@ -0,0 +1,97 @@
    +<?xml version="1.0" encoding="UTF-8"?>
    +<ui version="4.0">
    + <class>OpenCheckpointDialog</class>
    + <widget class="QWidget" name="OpenCheckpointDialog">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>506</width>
    +    <height>500</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>Form</string>
    +  </property>
    +  <layout class="QGridLayout" name="gridLayout">
    +   <item row="0" column="0">
    +    <layout class="QVBoxLayout" name="verticalLayout">
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout_2">
    +       <item>
    +        <widget class="QComboBox" name="SelectDirectoryComboBox"/>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="UpButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Up</string>
    +         </property>
    +        </widget>
    +       </item>
    +      </layout>
    +     </item>
    +     <item>
    +      <widget class="QTreeView" name="CheckpointDirectoryTreeView"/>
    +     </item>
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout">
    +       <item>
    +        <widget class="QComboBox" name="SimCheckpointComboBox"/>
    +       </item>
    +       <item>
    +        <spacer name="horizontalSpacer">
    +         <property name="orientation">
    +          <enum>Qt::Horizontal</enum>
    +         </property>
    +         <property name="sizeType">
    +          <enum>QSizePolicy::Fixed</enum>
    +         </property>
    +         <property name="sizeHint" stdset="0">
    +          <size>
    +           <width>78</width>
    +           <height>20</height>
    +          </size>
    +         </property>
    +        </spacer>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="OpenButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Open</string>
    +         </property>
    +        </widget>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="CancelButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Cancel</string>
    +         </property>
    +        </widget>
    +       </item>
    +      </layout>
    +     </item>
    +    </layout>
    +   </item>
    +  </layout>
    + </widget>
    + <resources/>
    + <connections/>
    +</ui>

commit 4508717df1d1c7623e83abd67fd8f5b6038ac3fb
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 20:59:18 2013 +0800

    diff --git a/open_checkpoint_dialog.ui b/open_checkpoint_dialog.ui
    index e69de29..4dd56e9 100644
    --- a/open_checkpoint_dialog.ui
    +++ b/open_checkpoint_dialog.ui
    @@ -0,0 +1,97 @@
    +<?xml version="1.0" encoding="UTF-8"?>
    +<ui version="4.0">
    + <class>OpenCheckpointDialog</class>
    + <widget class="QWidget" name="OpenCheckpointDialog">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>506</width>
    +    <height>500</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>Form</string>
    +  </property>
    +  <layout class="QGridLayout" name="gridLayout">
    +   <item row="0" column="0">
    +    <layout class="QVBoxLayout" name="verticalLayout">
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout_2">
    +       <item>
    +        <widget class="QComboBox" name="SelectDirectoryComboBox"/>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="UpButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Up</string>
    +         </property>
    +        </widget>
    +       </item>
    +      </layout>
    +     </item>
    +     <item>
    +      <widget class="QTreeView" name="CheckpointDirectoryTreeView"/>
    +     </item>
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout">
    +       <item>
    +        <widget class="QComboBox" name="SimCheckpointComboBox"/>
    +       </item>
    +       <item>
    +        <spacer name="horizontalSpacer">
    +         <property name="orientation">
    +          <enum>Qt::Horizontal</enum>
    +         </property>
    +         <property name="sizeType">
    +          <enum>QSizePolicy::Fixed</enum>
    +         </property>
    +         <property name="sizeHint" stdset="0">
    +          <size>
    +           <width>78</width>
    +           <height>20</height>
    +          </size>
    +         </property>
    +        </spacer>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="OpenButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Open</string>
    +         </property>
    +        </widget>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="CancelButton">
    +         <property name="sizePolicy">
    +          <sizepolicy hsizetype="Fixed" vsizetype="Fixed">
    +           <horstretch>0</horstretch>
    +           <verstretch>0</verstretch>
    +          </sizepolicy>
    +         </property>
    +         <property name="text">
    +          <string>Cancel</string>
    +         </property>
    +        </widget>
    +       </item>
    +      </layout>
    +     </item>
    +    </layout>
    +   </item>
    +  </layout>
    + </widget>
    + <resources/>
    + <connections/>
    +</ui>

commit 409538ca588031d7402e6a29740ecf3688044605
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 20:58:23 2013 +0800

    diff --git a/main_window.cpp b/main_window.cpp
    index e426b26..a689223 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -20,11 +20,11 @@ void MainWindow::setFileMenu(void) {
         connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()),
                 this, SLOT(newSessionFromScript()));
         connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()),
    -            this, SLOT(openCheckpoint()));
    +            &this->open_checkpoint_dialog, SLOT(openCheckpoint()));
         connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()),
                 this, SLOT(appendFromScript()));
         connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()),
    -            this, SLOT(appendFromCheckpoint()));
    +            &this->open_checkpoint_dialog, SLOT(appendFromCheckpoint()));
         connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()),
                 this, SLOT(runPythonFile()));
         connect(main_ui_->actionCreateWorkspace, SIGNAL(triggered()),
    diff --git a/main_window.h b/main_window.h
    index 6ed4796..fbc0b38 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -2,6 +2,7 @@
     #define MAIN_WINDOW_H
    
     #include <QMainWindow>
    +#include "open_checkpoint_dialog.h"
     #include "create_workspace_dialog.h"
    
     namespace Ui {
    @@ -21,16 +22,16 @@ signals:
     private slots:
         void newEmptySession(void);
         void newSessionFromScript(void);
    -    void openCheckpoint(void);
         bool saveCheckpoint(void);
         void appendFromScript(void);
    -    void appendFromCheckpoint(void);
         bool loadPresistentState(void);
         bool savePresitentState(void);
         void runPythonFile(void);
     private:
         Ui::MainWindow *main_ui_;
    +    OpenCheckpointDialog open_checkpoint_dialog;
         CreateWorkspaceDialog create_workspace_dialog;
    +
     };
    
     #endif
    diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
    index 587a5e8..9b49f87 100644
    --- a/main_window_file_slots.cpp
    +++ b/main_window_file_slots.cpp
    @@ -15,13 +15,6 @@ void MainWindow::newSessionFromScript(void) {
         }
     }
    
    -void MainWindow::openCheckpoint(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete checkpoint"),
    -                                                      ".",
    -                                                      tr("Sim checkpoint (*.sc)"));
    -}
    -
     bool MainWindow::saveCheckpoint(void) {
         return true;
     }
    @@ -31,13 +24,9 @@ void MainWindow::appendFromScript(void) {
                                                           tr("Selete start script"),
                                                           ".",
                                                           tr("Script files (*.sim)"));
    -}
    +    if (!scriptName.isEmpty()) {
    
    -void MainWindow::appendFromCheckpoint(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete checkpoint"),
    -                                                      ".",
    -                                                      tr("Sim checkpoint (*.sc)"));
    +    }
     }
    
     bool MainWindow::loadPresistentState(void) {
    diff --git a/open_checkpoint_dialog.cpp b/open_checkpoint_dialog.cpp
    index e69de29..1f6adc4 100644
    --- a/open_checkpoint_dialog.cpp
    +++ b/open_checkpoint_dialog.cpp
    @@ -0,0 +1,12 @@
    +#include "open_checkpoint_dialog.h"
    +#include "ui_open_checkpoint_dialog.h"
    +
    +OpenCheckpointDialog::OpenCheckpointDialog(QWidget *parent) :
    +    QWidget(parent),
    +    open_checkpoint_dialog_ui_(new Ui::OpenCheckpointDialog) {
    +    open_checkpoint_dialog_ui_->setupUi(this);
    +}
    +
    +OpenCheckpointDialog::~OpenCheckpointDialog() {
    +    delete open_checkpoint_dialog_ui_;
    +}
    diff --git a/open_checkpoint_dialog.h b/open_checkpoint_dialog.h
    index e69de29..5c8009c 100644
    --- a/open_checkpoint_dialog.h
    +++ b/open_checkpoint_dialog.h
    @@ -0,0 +1,24 @@
    +#ifndef OPEN_CHECKPOINT_DIALOG_H
    +#define OPEN_CHECKPOINT_DIALOG_H
    +
    +#include <QWidget>
    +
    +namespace Ui {
    +    class OpenCheckpointDialog;
    +}
    +
    +class OpenCheckpointDialog : public QWidget {
    +    Q_OBJECT
    +
    +public:
    +    explicit OpenCheckpointDialog(QWidget *parent = 0);
    +    ~OpenCheckpointDialog();
    +private slots:
    +    void openCheckpoint(void);
    +    void appendFromCheckpoint(void);
    +private:
    +    Ui::OpenCheckpointDialog *open_checkpoint_dialog_ui_;
    +
    +};
    +
    +#endif
    diff --git a/open_checkpoint_dialog_slots.cpp b/open_checkpoint_dialog_slots.cpp
    index e69de29..a11fb03 100644
    --- a/open_checkpoint_dialog_slots.cpp
    +++ b/open_checkpoint_dialog_slots.cpp
    @@ -0,0 +1,10 @@
    +#include "open_checkpoint_dialog.h"
    +#include "ui_open_checkpoint_dialog.h"
    +
    +void OpenCheckpointDialog::openCheckpoint(void) {
    +    this->show();
    +}
    +
    +void OpenCheckpointDialog::appendFromCheckpoint(void) {
    +    this->show();
    +}
    diff --git a/sim-qt.pro b/sim-qt.pro
    index b8ab8a5..df3bf47 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -16,12 +16,15 @@ CONFIG  +=  console plugin link_pkgconfig
     SOURCES += main.cpp\
     		   main_window.cpp\
                main_window_file_slots.cpp\
    +           open_checkpoint_dialog.cpp\
    +           open_checkpoint_dialog_slots.cpp\
                create_workspace_dialog.cpp\
                create_workspace_dialog_slots.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\
                sim_application.h\
    +           open_checkpoint_dialog.h\
                create_workspace_dialog.h
    
    -FORMS += cli.ui main_window.ui create_workspace_dialog.ui
    +FORMS += cli.ui main_window.ui open_checkpoint_dialog.ui create_workspace_dialog.ui

commit 6208bfb0073056d310849d86d67b8bb858c1cf6d
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 18:57:30 2013 +0800

    diff --git a/create_workspace_dialog.ui b/create_workspace_dialog.ui
    index e56192e..f8e00c7 100644
    --- a/create_workspace_dialog.ui
    +++ b/create_workspace_dialog.ui
    @@ -11,7 +11,7 @@
        </rect>
       </property>
       <property name="windowTitle">
    -   <string>浏览文件夹</string>
    +   <string>Browse for Folder</string>
       </property>
       <layout class="QGridLayout" name="gridLayout">
        <item row="0" column="0">
    @@ -47,7 +47,7 @@
            <item>
             <widget class="QLabel" name="DirectoryLabel">
              <property name="text">
    -          <string>文件夹:</string>
    +          <string>Folder:</string>
              </property>
             </widget>
            </item>
    @@ -93,7 +93,7 @@
            <item>
             <widget class="QPushButton" name="CreateDirectoryButton">
              <property name="text">
    -          <string>新建文件夹(M)</string>
    +          <string>New Folder(M)</string>
              </property>
              <property name="shortcut">
               <string>Alt+M</string>
    @@ -119,14 +119,14 @@
            <item>
             <widget class="QPushButton" name="SureButton">
              <property name="text">
    -          <string>确定</string>
    +          <string>OK</string>
              </property>
             </widget>
            </item>
            <item>
             <widget class="QPushButton" name="CancelButton">
              <property name="text">
    -          <string>取消</string>
    +          <string>Cancel</string>
              </property>
             </widget>
            </item>

commit c0e8347ef26aa40f9eea0eb1bc9486cc0e5bf148
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 18:40:34 2013 +0800

    diff --git a/create_workspace_dialog.ui b/create_workspace_dialog.ui
    index 8842948..e56192e 100644
    --- a/create_workspace_dialog.ui
    +++ b/create_workspace_dialog.ui
    @@ -24,7 +24,7 @@
           </widget>
          </item>
          <item>
    -      <spacer name="separateDialogInfoLabelAndDiiecotoryTreeWidget">
    +      <spacer name="separateDialogInfoLabelAndDirecotoryTreeView">
            <property name="orientation">
             <enum>Qt::Vertical</enum>
            </property>
    @@ -40,13 +40,7 @@
           </spacer>
          </item>
          <item>
    -      <widget class="QTreeWidget" name="DirectoryTreeWidget">
    -       <column>
    -        <property name="text">
    -         <string notr="true">1</string>
    -        </property>
    -       </column>
    -      </widget>
    +      <widget class="QTreeView" name="DirecotoryTreeView"/>
          </item>
          <item>
           <layout class="QHBoxLayout" name="horizontalLayout_2">

commit 3a737edd47b57a0f5a6584de33c619f961531cd6
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 18:23:32 2013 +0800

    diff --git a/create_workspace_dialog.h b/create_workspace_dialog.h
    index e164a92..4c761fd 100644
    --- a/create_workspace_dialog.h
    +++ b/create_workspace_dialog.h
    @@ -13,6 +13,8 @@ class CreateWorkspaceDialog : public QWidget {
     public:
         explicit CreateWorkspaceDialog(QWidget *parent = 0);
         ~CreateWorkspaceDialog();
    +private slots:
    +    void createWorkspace(void);
     private:
         Ui::CreateWorkspaceDialog *create_workspace_dialog_ui_;
     };
    diff --git a/create_workspace_dialog_slots.cpp b/create_workspace_dialog_slots.cpp
    index e69de29..2162db7 100644
    --- a/create_workspace_dialog_slots.cpp
    +++ b/create_workspace_dialog_slots.cpp
    @@ -0,0 +1,6 @@
    +#include "create_workspace_dialog.h"
    +#include "ui_create_workspace_dialog.h"
    +
    +void CreateWorkspaceDialog::createWorkspace(void) {
    +    this->show();
    +}
    diff --git a/main_window.cpp b/main_window.cpp
    index b4bae31..e426b26 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -15,18 +15,24 @@ MainWindow::MainWindow(QWidget *parent) :
     }
    
     void MainWindow::setFileMenu(void) {
    -    connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()), this, SLOT(newEmptySession()));
    -    connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()), this, SLOT(newSessionFromScript()));
    -    connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()), this, SLOT(openCheckpoint()));
    -    connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()), this, SLOT(appendFromScript()));
    -    connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()), this, SLOT(appendFromCheckpoint()));
    -    connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()), this, SLOT(runPythonFile()));
    -    connect(main_ui_->actionExit, SIGNAL(triggered()), simApp, SLOT(closeAllWindows()));
    +    connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()),
    +            this, SLOT(newEmptySession()));
    +    connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()),
    +            this, SLOT(newSessionFromScript()));
    +    connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()),
    +            this, SLOT(openCheckpoint()));
    +    connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()),
    +            this, SLOT(appendFromScript()));
    +    connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()),
    +            this, SLOT(appendFromCheckpoint()));
    +    connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()),
    +            this, SLOT(runPythonFile()));
    +    connect(main_ui_->actionCreateWorkspace, SIGNAL(triggered()),
    +            &this->create_workspace_dialog, SLOT(createWorkspace()));
    +    connect(main_ui_->actionExit, SIGNAL(triggered()),
    +            simApp, SLOT(closeAllWindows()));
     }
    
    -
    -
    -MainWindow::~MainWindow()
    -{
    +MainWindow::~MainWindow() {
         delete main_ui_;
     }
    diff --git a/main_window.h b/main_window.h
    index 062704c..6ed4796 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -2,6 +2,7 @@
     #define MAIN_WINDOW_H
    
     #include <QMainWindow>
    +#include "create_workspace_dialog.h"
    
     namespace Ui {
         class MainWindow;
    @@ -27,10 +28,9 @@ private slots:
         bool loadPresistentState(void);
         bool savePresitentState(void);
         void runPythonFile(void);
    -    void createWorkspace(void);
    -    void changeWorkspace(void);
     private:
         Ui::MainWindow *main_ui_;
    +    CreateWorkspaceDialog create_workspace_dialog;
     };
    
     #endif
    diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
    index 898bd02..587a5e8 100644
    --- a/main_window_file_slots.cpp
    +++ b/main_window_file_slots.cpp
    @@ -55,11 +55,3 @@ void MainWindow::runPythonFile(void) {
                                                           tr("Python files (*.py)"));
     }
    
    -void MainWindow::createWorkspace(void) {
    -
    -}
    -
    -void MainWindow::changeWorkspace(void) {
    -
    -}
    -
    diff --git a/sim-qt.pro b/sim-qt.pro
    index e2424a8..b8ab8a5 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -16,9 +16,12 @@ CONFIG  +=  console plugin link_pkgconfig
     SOURCES += main.cpp\
     		   main_window.cpp\
                main_window_file_slots.cpp\
    +           create_workspace_dialog.cpp\
    +           create_workspace_dialog_slots.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\
                sim_application.h\
    +           create_workspace_dialog.h
    
    -FORMS += cli.ui main_window.ui
    +FORMS += cli.ui main_window.ui create_workspace_dialog.ui

commit 2b011c92f2fa7bca44560eba9a5eae2322f798ac
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 18:10:40 2013 +0800

    diff --git a/create_workspace_dialog.cpp b/create_workspace_dialog.cpp
    index e69de29..ea96140 100644
    --- a/create_workspace_dialog.cpp
    +++ b/create_workspace_dialog.cpp
    @@ -0,0 +1,12 @@
    +#include "create_workspace_dialog.h"
    +#include "ui_create_workspace_dialog.h"
    +
    +CreateWorkspaceDialog::CreateWorkspaceDialog(QWidget *parent) :
    +    QWidget(parent),
    +    create_workspace_dialog_ui_(new Ui::CreateWorkspaceDialog) {
    +    create_workspace_dialog_ui_->setupUi(this);
    +}
    +
    +CreateWorkspaceDialog::~CreateWorkspaceDialog() {
    +    delete create_workspace_dialog_ui_;
    +}
    diff --git a/create_workspace_dialog.h b/create_workspace_dialog.h
    index e69de29..e164a92 100644
    --- a/create_workspace_dialog.h
    +++ b/create_workspace_dialog.h
    @@ -0,0 +1,20 @@
    +#ifndef CREATE_WORKSPACE_DIALOG_H
    +#define CREATE_WORKSPACE_DIALOG_H
    +
    +#include <QWidget>
    +
    +namespace Ui {
    +    class CreateWorkspaceDialog;
    +}
    +
    +class CreateWorkspaceDialog : public QWidget {
    +    Q_OBJECT
    +
    +public:
    +    explicit CreateWorkspaceDialog(QWidget *parent = 0);
    +    ~CreateWorkspaceDialog();
    +private:
    +    Ui::CreateWorkspaceDialog *create_workspace_dialog_ui_;
    +};
    +
    +#endif
    diff --git a/create_workspace_dialog.ui b/create_workspace_dialog.ui
    index e69de29..8842948 100644
    --- a/create_workspace_dialog.ui
    +++ b/create_workspace_dialog.ui
    @@ -0,0 +1,147 @@
    +<?xml version="1.0" encoding="UTF-8"?>
    +<ui version="4.0">
    + <class>CreateWorkspaceDialog</class>
    + <widget class="QWidget" name="CreateWorkspaceDialog">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>414</width>
    +    <height>480</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>浏览文件夹</string>
    +  </property>
    +  <layout class="QGridLayout" name="gridLayout">
    +   <item row="0" column="0">
    +    <layout class="QVBoxLayout" name="verticalLayout">
    +     <item>
    +      <widget class="QLabel" name="DialogInfoLabel">
    +       <property name="text">
    +        <string>Select directory to use as workspace ...</string>
    +       </property>
    +      </widget>
    +     </item>
    +     <item>
    +      <spacer name="separateDialogInfoLabelAndDiiecotoryTreeWidget">
    +       <property name="orientation">
    +        <enum>Qt::Vertical</enum>
    +       </property>
    +       <property name="sizeType">
    +        <enum>QSizePolicy::Fixed</enum>
    +       </property>
    +       <property name="sizeHint" stdset="0">
    +        <size>
    +         <width>258</width>
    +         <height>38</height>
    +        </size>
    +       </property>
    +      </spacer>
    +     </item>
    +     <item>
    +      <widget class="QTreeWidget" name="DirectoryTreeWidget">
    +       <column>
    +        <property name="text">
    +         <string notr="true">1</string>
    +        </property>
    +       </column>
    +      </widget>
    +     </item>
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout_2">
    +       <item>
    +        <widget class="QLabel" name="DirectoryLabel">
    +         <property name="text">
    +          <string>文件夹:</string>
    +         </property>
    +        </widget>
    +       </item>
    +       <item>
    +        <spacer name="separateDialogLabelAndFilenameLineEdit">
    +         <property name="orientation">
    +          <enum>Qt::Horizontal</enum>
    +         </property>
    +         <property name="sizeType">
    +          <enum>QSizePolicy::Fixed</enum>
    +         </property>
    +         <property name="sizeHint" stdset="0">
    +          <size>
    +           <width>18</width>
    +           <height>20</height>
    +          </size>
    +         </property>
    +        </spacer>
    +       </item>
    +       <item>
    +        <widget class="QLineEdit" name="FilenameLineEdit"/>
    +       </item>
    +      </layout>
    +     </item>
    +     <item>
    +      <layout class="QHBoxLayout" name="horizontalLayout">
    +       <item>
    +        <spacer name="beforeCreateDirectory">
    +         <property name="orientation">
    +          <enum>Qt::Horizontal</enum>
    +         </property>
    +         <property name="sizeType">
    +          <enum>QSizePolicy::Minimum</enum>
    +         </property>
    +         <property name="sizeHint" stdset="0">
    +          <size>
    +           <width>13</width>
    +           <height>18</height>
    +          </size>
    +         </property>
    +        </spacer>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="CreateDirectoryButton">
    +         <property name="text">
    +          <string>新建文件夹(M)</string>
    +         </property>
    +         <property name="shortcut">
    +          <string>Alt+M</string>
    +         </property>
    +        </widget>
    +       </item>
    +       <item>
    +        <spacer name="separateCreateDirectoryButtonAndSureButton">
    +         <property name="orientation">
    +          <enum>Qt::Horizontal</enum>
    +         </property>
    +         <property name="sizeType">
    +          <enum>QSizePolicy::Fixed</enum>
    +         </property>
    +         <property name="sizeHint" stdset="0">
    +          <size>
    +           <width>40</width>
    +           <height>20</height>
    +          </size>
    +         </property>
    +        </spacer>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="SureButton">
    +         <property name="text">
    +          <string>确定</string>
    +         </property>
    +        </widget>
    +       </item>
    +       <item>
    +        <widget class="QPushButton" name="CancelButton">
    +         <property name="text">
    +          <string>取消</string>
    +         </property>
    +        </widget>
    +       </item>
    +      </layout>
    +     </item>
    +    </layout>
    +   </item>
    +  </layout>
    + </widget>
    + <resources/>
    + <connections/>
    +</ui>
    diff --git a/main_window.cpp b/main_window.cpp
    index b4bae31..b2b6c70 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -21,12 +21,12 @@ void MainWindow::setFileMenu(void) {
         connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()), this, SLOT(appendFromScript()));
         connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()), this, SLOT(appendFromCheckpoint()));
         connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()), this, SLOT(runPythonFile()));
    +    connect(main_ui_->actionCreateWorkspace, SIGNAL(triggered()), this, SLOT(createWorkspace()));
         connect(main_ui_->actionExit, SIGNAL(triggered()), simApp, SLOT(closeAllWindows()));
     }
    
    -MainWindow::~MainWindow()
    -{
    +MainWindow::~MainWindow() {
         delete main_ui_;
     }
    diff --git a/main_window.h b/main_window.h
    index 062704c..d9a9588 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -2,6 +2,7 @@
     #define MAIN_WINDOW_H
    
     #include <QMainWindow>
    +#include "create_workspace_dialog.h"
    
     namespace Ui {
         class MainWindow;
    @@ -31,6 +32,7 @@ private slots:
         void changeWorkspace(void);
     private:
         Ui::MainWindow *main_ui_;
    +    CreateWorkspaceDialog create_workspace_dialog;
     };
    
     #endif
    diff --git a/sim-qt.pro b/sim-qt.pro
    index e2424a8..f0bc017 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -16,9 +16,11 @@ CONFIG  +=  console plugin link_pkgconfig
     SOURCES += main.cpp\
     		   main_window.cpp\
                main_window_file_slots.cpp\
    +           create_workspace_dialog.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\
                sim_application.h\
    +           create_workspace_dialog.h
    
    -FORMS += cli.ui main_window.ui
    +FORMS += cli.ui main_window.ui create_workspace_dialog.ui

commit 3dd0d93980a5cbf88f51b10d250bce2bb557d3dd
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 16:36:57 2013 +0800

    diff --git a/main_window.cpp b/main_window.cpp
    index 7cd1ac8..b4bae31 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -1,5 +1,6 @@
     #include "main_window.h"
     #include "ui_main_window.h"
    +#include "sim_application.h"
    
     static MainWindow *gbl_cur_main_window = NULL;
    
    @@ -9,18 +10,22 @@ MainWindow::MainWindow(QWidget *parent) :
         gbl_cur_main_window = this;
         main_ui_->setupUi(this);
    
    +    setFileMenu();
    +
    +}
    +
    +void MainWindow::setFileMenu(void) {
         connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()), this, SLOT(newEmptySession()));
         connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()), this, SLOT(newSessionFromScript()));
         connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()), this, SLOT(openCheckpoint()));
         connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()), this, SLOT(appendFromScript()));
         connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()), this, SLOT(appendFromCheckpoint()));
         connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()), this, SLOT(runPythonFile()));
    +    connect(main_ui_->actionExit, SIGNAL(triggered()), simApp, SLOT(closeAllWindows()));
     }
    
    -
    -
     MainWindow::~MainWindow()
     {
         delete main_ui_;
    diff --git a/main_window.h b/main_window.h
    index 9f03875..062704c 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -13,6 +13,9 @@ class MainWindow : public QMainWindow {
     public:
         explicit MainWindow(QWidget *parent = 0);
         ~MainWindow();
    +
    +private:
    +    void setFileMenu(void);
     signals:
     private slots:
         void newEmptySession(void);
    @@ -26,7 +29,6 @@ private slots:
         void runPythonFile(void);
         void createWorkspace(void);
         void changeWorkspace(void);
    -    void exit(void);
     private:
         Ui::MainWindow *main_ui_;
     };
    diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
    index d5692e2..898bd02 100644
    --- a/main_window_file_slots.cpp
    +++ b/main_window_file_slots.cpp
    @@ -63,6 +63,3 @@ void MainWindow::changeWorkspace(void) {
    
     }
    
    -void MainWindow::exit(void) {
    -
    -}

commit 9149f32b5e97d41a0fa3d0e89967cb0c24619d51
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 16:27:41 2013 +0800

    diff --git a/main_window.ui b/main_window.ui
    index c13a3fb..76ef09a 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -483,7 +483,7 @@
         </action>
         <action name="actionVirtutechWebsite">
           <property name="text">
    -        <string>AMS Website</string>
    +        <string>Sim Website</string>
           </property>
         </action>
         <action name="actionLicense">

commit a116a6ad93cb95637d4b9687d21788d1ea5d8935
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 16:26:48 2013 +0800

    diff --git a/main_window.cpp b/main_window.cpp
    index ad6aa9e..7cd1ac8 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -1,10 +1,6 @@
     #include "main_window.h"
     #include "ui_main_window.h"
    
    -#include <QAction>
    -#include <QTreeWidget>
    -#include <QFileDialog>
    -
     static MainWindow *gbl_cur_main_window = NULL;
    
     MainWindow::MainWindow(QWidget *parent) :
    @@ -21,71 +17,9 @@ MainWindow::MainWindow(QWidget *parent) :
         connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()), this, SLOT(runPythonFile()));
     }
    
    -void MainWindow::newEmptySession(void) {
    -
    -}
    -
    -void MainWindow::newSessionFromScript(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete start script"),
    -                                                      ".",
    -                                                      tr("Script files (*.sim)"));
    -    if (!scriptName.isEmpty()) {
    -
    -    }
    -}
    -
    -void MainWindow::openCheckpoint(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete checkpoint"),
    -                                                      ".",
    -                                                      tr("Sim checkpoint (*.sc)"));
    -}
    -
    -bool MainWindow::saveCheckpoint(void) {
    -    return true;
    -}
    -
    -void MainWindow::appendFromScript(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete start script"),
    -                                                      ".",
    -                                                      tr("Script files (*.sim)"));
    -}
    -
    -void MainWindow::appendFromCheckpoint(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Selete checkpoint"),
    -                                                      ".",
    -                                                      tr("Sim checkpoint (*.sc)"));
    -}
    
    -bool MainWindow::loadPresistentState(void) {
    -    return true;
    -}
    
    -bool MainWindow::savePresitentState(void) {
    -    return true;
    -}
    
    -void MainWindow::runPythonFile(void) {
    -    QString scriptName = QFileDialog::getOpenFileName(this,
    -                                                      tr("Run python file"),
    -                                                      ".",
    -                                                      tr("Python files (*.py)"));
    -}
    -
    -void MainWindow::createWorkspace(void) {
    -
    -}
    -
    -void MainWindow::changeWorkspace(void) {
    -
    -}
    -
    -void MainWindow::exit(void) {
    -
    -}
    
     MainWindow::~MainWindow()
     {
    diff --git a/main_window.ui b/main_window.ui
    index c13a3fb..76ef09a 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -483,7 +483,7 @@
         </action>
         <action name="actionVirtutechWebsite">
           <property name="text">
    -        <string>AMS Website</string>
    +        <string>Sim Website</string>
           </property>
         </action>
         <action name="actionLicense">
    diff --git a/main_window_file_slots.cpp b/main_window_file_slots.cpp
    index e69de29..d5692e2 100644
    --- a/main_window_file_slots.cpp
    +++ b/main_window_file_slots.cpp
    @@ -0,0 +1,68 @@
    +#include <QFileDialog>
    +#include "main_window.h"
    +
    +void MainWindow::newEmptySession(void) {
    +
    +}
    +
    +void MainWindow::newSessionFromScript(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete start script"),
    +                                                      ".",
    +                                                      tr("Script files (*.sim)"));
    +    if (!scriptName.isEmpty()) {
    +
    +    }
    +}
    +
    +void MainWindow::openCheckpoint(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete checkpoint"),
    +                                                      ".",
    +                                                      tr("Sim checkpoint (*.sc)"));
    +}
    +
    +bool MainWindow::saveCheckpoint(void) {
    +    return true;
    +}
    +
    +void MainWindow::appendFromScript(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete start script"),
    +                                                      ".",
    +                                                      tr("Script files (*.sim)"));
    +}
    +
    +void MainWindow::appendFromCheckpoint(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete checkpoint"),
    +                                                      ".",
    +                                                      tr("Sim checkpoint (*.sc)"));
    +}
    +
    +bool MainWindow::loadPresistentState(void) {
    +    return true;
    +}
    +
    +bool MainWindow::savePresitentState(void) {
    +    return true;
    +}
    +
    +void MainWindow::runPythonFile(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Run python file"),
    +                                                      ".",
    +                                                      tr("Python files (*.py)"));
    +}
    +
    +void MainWindow::createWorkspace(void) {
    +
    +}
    +
    +void MainWindow::changeWorkspace(void) {
    +
    +}
    +
    +void MainWindow::exit(void) {
    +
    +}
    diff --git a/sim-qt.pro b/sim-qt.pro
    index f81c087..e2424a8 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -15,6 +15,7 @@ CONFIG  +=  console plugin link_pkgconfig
    
     SOURCES += main.cpp\
     		   main_window.cpp\
    +           main_window_file_slots.cpp\
                sim_application.cpp
    
     HEADERS += main_window.h\

commit 0af1784b7518e405750e0072f2d09e8c4ecb5f17
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 14:57:56 2013 +0800

    diff --git a/main_window.cpp b/main_window.cpp
    index 6b3ade0..ad6aa9e 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -15,6 +15,10 @@ MainWindow::MainWindow(QWidget *parent) :
    
         connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()), this, SLOT(newEmptySession()));
         connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()), this, SLOT(newSessionFromScript()));
    +    connect(main_ui_->actionOpenCheckpoint, SIGNAL(triggered()), this, SLOT(openCheckpoint()));
    +    connect(main_ui_->actionAppendFromScript, SIGNAL(triggered()), this, SLOT(appendFromScript()));
    +    connect(main_ui_->actionAppendFromCheckpoint, SIGNAL(triggered()), this, SLOT(appendFromCheckpoint()));
    +    connect(main_ui_->actionRunPythonFile, SIGNAL(triggered()), this, SLOT(runPythonFile()));
     }
    
     void MainWindow::newEmptySession(void) {
    @@ -32,7 +36,10 @@ void MainWindow::newSessionFromScript(void) {
     }
    
     void MainWindow::openCheckpoint(void) {
    -
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete checkpoint"),
    +                                                      ".",
    +                                                      tr("Sim checkpoint (*.sc)"));
     }
    
     bool MainWindow::saveCheckpoint(void) {
    @@ -40,11 +47,17 @@ bool MainWindow::saveCheckpoint(void) {
     }
    
     void MainWindow::appendFromScript(void) {
    -
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete start script"),
    +                                                      ".",
    +                                                      tr("Script files (*.sim)"));
     }
    
     void MainWindow::appendFromCheckpoint(void) {
    -
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete checkpoint"),
    +                                                      ".",
    +                                                      tr("Sim checkpoint (*.sc)"));
     }
    
     bool MainWindow::loadPresistentState(void) {
    @@ -56,7 +69,10 @@ bool MainWindow::savePresitentState(void) {
     }
    
     void MainWindow::runPythonFile(void) {
    -
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Run python file"),
    +                                                      ".",
    +                                                      tr("Python files (*.py)"));
     }
    
     void MainWindow::createWorkspace(void) {
    diff --git a/main_window.ui b/main_window.ui
    index f781ff8..c13a3fb 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -51,7 +51,7 @@
             <addaction name="actionLoadPresistentState"/>
             <addaction name="actionSavePresistentState"/>
             <addaction name="separator"/>
    -        <addaction name="actionPythonFile"/>
    +        <addaction name="actionRunPythonFile"/>
             <addaction name="separator"/>
             <addaction name="actionCreateWorkspace"/>
             <addaction name="actionChangeWorkspace"/>
    @@ -236,7 +236,7 @@
             <string>Save Persistent State...</string>
           </property>
         </action>
    -    <action name="actionPythonFile">
    +    <action name="actionRunPythonFile">
           <property name="text">
             <string>Run Python File...</string>
           </property>

commit c890fff6b933583b2a14d22ecc6c5602e82eea9a
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Fri Sep 20 00:17:25 2013 +0800

    #include "main_window.h"
    #include "ui_main_window.h"
    
    #include <QAction>
    #include <QTreeWidget>
    #include <QFileDialog>
    
    static MainWindow *gbl_cur_main_window = NULL;
    
    MainWindow::MainWindow(QWidget *parent) :
        QMainWindow(parent),
        main_ui_(new Ui::MainWindow) {
        gbl_cur_main_window = this;
        main_ui_->setupUi(this);
    
        connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()), this, SLOT(newEmptySession()));
        connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()), this, SLOT(newSessionFromScript()));
    }
    
    void MainWindow::newEmptySession(void) {
    
    }
    
    void MainWindow::newSessionFromScript(void) {
        QString scriptName = QFileDialog::getOpenFileName(this,
                                                          tr("Selete start script"),
                                                          ".",
                                                          tr("Script files (*.sim)"));
        if (!scriptName.isEmpty()) {
    
        }
    }
    
    void MainWindow::openCheckpoint(void) {
    
    }
    
    bool MainWindow::saveCheckpoint(void) {
        return true;
    }
    
    void MainWindow::appendFromScript(void) {
    
    }
    
    void MainWindow::appendFromCheckpoint(void) {
    
    }
    
    bool MainWindow::loadPresistentState(void) {
        return true;
    }
    
    bool MainWindow::savePresitentState(void) {
        return true;
    }
    
    void MainWindow::runPythonFile(void) {
    
    }
    
    void MainWindow::createWorkspace(void) {
    
    }
    
    void MainWindow::changeWorkspace(void) {
    
    }
    
    void MainWindow::exit(void) {
    
    }
    
    MainWindow::~MainWindow()
    {
        delete main_ui_;
    }

commit c249a560e6a199b12d9c6acb80eb8d0f722f595a
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Thu Sep 19 23:57:56 2013 +0800

    diff --git a/main_window.cpp b/main_window.cpp
    index b7379a3..ec5b0b0 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -3,6 +3,7 @@
    
     #include <QAction>
     #include <QTreeWidget>
    +#include <QFileDialog>
    
     static MainWindow *gbl_cur_main_window = NULL;
    
    @@ -11,6 +12,63 @@ MainWindow::MainWindow(QWidget *parent) :
         main_ui_(new Ui::MainWindow) {
         gbl_cur_main_window = this;
         main_ui_->setupUi(this);
    +
    +    connect(main_ui_->actionNewEmptySession, SIGNAL(triggered()), this, SLOT(newEmptySession()));
    +    connect(main_ui_->actionNewSessionFromScript, SIGNAL(triggered()), this, SLOT(newSessionFromScript()));
    +}
    +
    +void MainWindow::newEmptySession(void) {
    +
    +}
    +
    +void MainWindow::newSessionFromScript(void) {
    +    QString scriptName = QFileDialog::getOpenFileName(this,
    +                                                      tr("Selete start script"),
    +                                                      ".",
    +                                                      tr("Script files (*.sf)"));
    +    if (!scriptName.isEmpty()) {
    +
    +    }
    +}
    +
    +void MainWindow::openCheckpoint(void) {
    +
    +}
    +
    +bool MainWindow::saveCheckpoint(void) {
    +    return true;
    +}
    +
    +void MainWindow::appendFromScript(void) {
    +
    +}
    +
    +void MainWindow::appendFromCheckpoint(void) {
    +
    +}
    +
    +bool MainWindow::loadPresistentState(void) {
    +    return true;
    +}
    +
    +bool MainWindow::savePresitentState(void) {
    +    return true;
    +}
    +
    +void MainWindow::runPythonFile(void) {
    +
    +}
    +
    +void MainWindow::createWorkspace(void) {
    +
    +}
    +
    +void MainWindow::changeWorkspace(void) {
    +
    +}
    +
    +void MainWindow::exit(void) {
    +
     }
    
     MainWindow::~MainWindow()
    diff --git a/main_window.h b/main_window.h
    index 318d84e..9f03875 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -14,7 +14,19 @@ public:
         explicit MainWindow(QWidget *parent = 0);
         ~MainWindow();
     signals:
    -
    +private slots:
    +    void newEmptySession(void);
    +    void newSessionFromScript(void);
    +    void openCheckpoint(void);
    +    bool saveCheckpoint(void);
    +    void appendFromScript(void);
    +    void appendFromCheckpoint(void);
    +    bool loadPresistentState(void);
    +    bool savePresitentState(void);
    +    void runPythonFile(void);
    +    void createWorkspace(void);
    +    void changeWorkspace(void);
    +    void exit(void);
     private:
         Ui::MainWindow *main_ui_;
     };
    diff --git a/main_window.ui b/main_window.ui
    index 4bf2c78..f781ff8 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -1,546 +1,537 @@
     <?xml version="1.0" encoding="UTF-8"?>
     <ui version="4.0">
    - <class>MainWindow</class>
    - <widget class="QMainWindow" name="MainWindow">
    -  <property name="geometry">
    -   <rect>
    -    <x>0</x>
    -    <y>0</y>
    -    <width>407</width>
    -    <height>268</height>
    -   </rect>
    -  </property>
    -  <property name="windowTitle">
    -   <string>Sim Control</string>
    -  </property>
    -  <widget class="QWidget" name="centralwidget">
    -   <layout class="QGridLayout" name="gridLayout">
    -    <item row="0" column="0">
    -     <widget class="QFrame" name="frame">
    -      <property name="frameShape">
    -       <enum>QFrame::StyledPanel</enum>
    -      </property>
    -      <property name="frameShadow">
    -       <enum>QFrame::Raised</enum>
    -      </property>
    -     </widget>
    -    </item>
    -   </layout>
    -  </widget>
    -  <widget class="QMenuBar" name="menubar">
    -   <property name="geometry">
    -    <rect>
    -     <x>0</x>
    -     <y>0</y>
    -     <width>407</width>
    -     <height>27</height>
    -    </rect>
    -   </property>
    -   <widget class="QMenu" name="menuFile">
    -    <property name="title">
    -     <string>File</string>
    -    </property>
    -    <addaction name="actionNew_Empty_Session"/>
    -    <addaction name="actionNew_Session_from_Script"/>
    -    <addaction name="actionOpen_Checkpoint"/>
    -    <addaction name="actionSave_Checkpoint"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionAppend_from_Script"/>
    -    <addaction name="actionAppend_from_Checkpoint"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionLoad_Presistent_State"/>
    -    <addaction name="actionSave_Persistent_State"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionRun_Python_File"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionCreate_Workspace"/>
    -    <addaction name="actionChange_Workspace"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionExit"/>
    -   </widget>
    -   <widget class="QMenu" name="menuEdit">
    -    <property name="title">
    -     <string>Edit</string>
    -    </property>
    -    <addaction name="actionPreferences"/>
    -   </widget>
    -   <widget class="QMenu" name="menuRun">
    -    <property name="title">
    -     <string>Run</string>
    -    </property>
    -    <addaction name="actionRun_Forward"/>
    -    <addaction name="actionStop"/>
    -    <addaction name="actionRun_Reverse"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionMultithreading_Enabled"/>
    -    <addaction name="actionReverse_Execution_Enabled"/>
    -    <addaction name="actionClear_Input_Recording"/>
    -   </widget>
    -   <widget class="QMenu" name="menuDebug">
    -    <property name="title">
    -     <string>Debug</string>
    +  <class>MainWindow</class>
    +  <widget class="QMainWindow" name="MainWindow">
    +    <property name="geometry">
    +      <rect>
    +        <x>0</x>
    +        <y>0</y>
    +        <width>407</width>
    +        <height>268</height>
    +      </rect>
         </property>
    -    <addaction name="actionDisassembly"/>
    -    <addaction name="actionStack_Trace"/>
    -    <addaction name="actionSource_View"/>
    -    <addaction name="actionCPU_Registers"/>
    -    <addaction name="actionDevice_Registers"/>
    -    <addaction name="actionMemory_Contents"/>
    -   </widget>
    -   <widget class="QMenu" name="menuTools">
    -    <property name="title">
    -     <string>Tools</string>
    +    <property name="windowTitle">
    +      <string>Sim Control</string>
         </property>
    -    <addaction name="actionCommand_Line_Window"/>
    -    <addaction name="actionCommand_Browser"/>
    -    <addaction name="actionHaps_Brower"/>
    -    <addaction name="actionObject_Brower"/>
    -    <addaction name="actionConfiguration_Brower"/>
    -    <addaction name="actionNew_Statistics_Plot"/>
    -    <addaction name="actionMemory_Mappings_Browser"/>
    -   </widget>
    -   <widget class="QMenu" name="menuWindow">
    -    <property name="title">
    -     <string>Window</string>
    -    </property>
    -    <addaction name="actionMinimize_All_Consoles"/>
    -    <addaction name="actionRestore_All_Consoles"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionOpen_All_Consoles"/>
    -    <addaction name="actionClose_All_Consoles"/>
    -    <addaction name="separator"/>
    -    <addaction name="action_No_Console_Windows"/>
    -   </widget>
    -   <widget class="QMenu" name="menuHelp">
    -    <property name="title">
    -     <string>Help</string>
    -    </property>
    -    <addaction name="actionContents"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionGetting_Started"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionTechnical_Support"/>
    -    <addaction name="actionBug_Report_Forum"/>
    -    <addaction name="actionUser_Registration"/>
    -    <addaction name="actionVirtutech_Website"/>
    -    <addaction name="separator"/>
    -    <addaction name="actionLicense"/>
    -    <addaction name="actionAbout"/>
    -   </widget>
    -   <addaction name="menuFile"/>
    -   <addaction name="menuEdit"/>
    -   <addaction name="menuRun"/>
    -   <addaction name="menuDebug"/>
    -   <addaction name="menuTools"/>
    -   <addaction name="menuWindow"/>
    -   <addaction name="menuHelp"/>
    -  </widget>
    -  <widget class="QStatusBar" name="statusBar"/>
    -  <widget class="QToolBar" name="toolBar">
    -   <property name="windowTitle">
    -    <string>toolBar</string>
    -   </property>
    -   <attribute name="toolBarArea">
    -    <enum>TopToolBarArea</enum>
    -   </attribute>
    -   <attribute name="toolBarBreak">
    -    <bool>false</bool>
    -   </attribute>
    -   <addaction name="actionNew_Session_from_Script"/>
    -   <addaction name="actionOpen_Checkpoint"/>
    -   <addaction name="actionSave_Checkpoint"/>
    -   <addaction name="separator"/>
    -   <addaction name="actionRun_Reverse"/>
    -   <addaction name="actionStop"/>
    -   <addaction name="actionRun_Forward"/>
    -   <addaction name="separator"/>
    -   <addaction name="actionMultithreading_Enabled"/>
    -   <addaction name="actionReverse_Execution_Enabled"/>
    +    <widget class="QWidget" name="centralwidget">
    +      <layout class="QGridLayout" name="gridLayout">
    +        <item row="0" column="0">
    +          <widget class="QFrame" name="frame">
    +            <property name="frameShape">
    +              <enum>QFrame::StyledPanel</enum>
    +            </property>
    +            <property name="frameShadow">
    +              <enum>QFrame::Raised</enum>
    +            </property>
    +          </widget>
    +        </item>
    +      </layout>
    +    </widget>
    +    <widget class="QMenuBar" name="menubar">
    +      <property name="geometry">
    +        <rect>
    +          <x>0</x>
    +          <y>0</y>
    +          <width>407</width>
    +          <height>27</height>
    +        </rect>
    +      </property>
    +      <widget class="QMenu" name="menuFile">
    +        <property name="title">
    +          <string>File</string>
    +        </property>
    +        <addaction name="actionNewEmptySession"/>
    +        <addaction name="actionNewSessionFromScript"/>
    +        <addaction name="actionOpenCheckpoint"/>
    +        <addaction name="actionSaveCheckpoint"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionAppendFromScript"/>
    +        <addaction name="actionAppendFromCheckpoint"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionLoadPresistentState"/>
    +        <addaction name="actionSavePresistentState"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionPythonFile"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionCreateWorkspace"/>
    +        <addaction name="actionChangeWorkspace"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionExit"/>
    +      </widget>
    +      <widget class="QMenu" name="menuEdit">
    +        <property name="title">
    +          <string>Edit</string>
    +        </property>
    +        <addaction name="actionPreferences"/>
    +      </widget>
    +      <widget class="QMenu" name="menuRun">
    +        <property name="title">
    +          <string>Run</string>
    +        </property>
    +        <addaction name="actionRunForward"/>
    +        <addaction name="actionStop"/>
    +        <addaction name="actionRunReverse"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionMultithreadingEnabled"/>
    +        <addaction name="actionReverseExecutionEnabled"/>
    +        <addaction name="actionClearInputRecording"/>
    +      </widget>
    +      <widget class="QMenu" name="menuDebug">
    +        <property name="title">
    +          <string>Debug</string>
    +        </property>
    +        <addaction name="actionDisassembly"/>
    +        <addaction name="actionStackTrace"/>
    +        <addaction name="actionSourceView"/>
    +        <addaction name="actionCPURegisters"/>
    +        <addaction name="actionDeviceRegisters"/>
    +        <addaction name="actionMemoryContents"/>
    +      </widget>
    +      <widget class="QMenu" name="menuTools">
    +        <property name="title">
    +          <string>Tools</string>
    +        </property>
    +        <addaction name="actionCommandLineWindow"/>
    +        <addaction name="actionCommandBrowser"/>
    +        <addaction name="actionHapsBrowser"/>
    +        <addaction name="actionObjectBrowser"/>
    +        <addaction name="atcionConfigurationBrowser"/>
    +        <addaction name="actionNewStatisticsPlot"/>
    +        <addaction name="actionMemoryMappingsBrowser"/>
    +      </widget>
    +      <widget class="QMenu" name="menuWindow">
    +        <property name="title">
    +          <string>Window</string>
    +        </property>
    +        <addaction name="actionMinimizeAllConsoles"/>
    +        <addaction name="actionRestoreAllConsoles"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionOpenAllConsoles"/>
    +        <addaction name="actionCloseAllConsoles"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionNoConsoleWindows"/>
    +      </widget>
    +      <widget class="QMenu" name="menuHelp">
    +        <property name="title">
    +          <string>Help</string>
    +        </property>
    +        <addaction name="actionContents"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionGettingStarted"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionTechnicalSupport"/>
    +        <addaction name="actionBugReportForum"/>
    +        <addaction name="actionUserRegistration"/>
    +        <addaction name="actionVirtutechWebsite"/>
    +        <addaction name="separator"/>
    +        <addaction name="actionLicense"/>
    +        <addaction name="actionAbout"/>
    +      </widget>
    +      <addaction name="menuFile"/>
    +      <addaction name="menuEdit"/>
    +      <addaction name="menuRun"/>
    +      <addaction name="menuDebug"/>
    +      <addaction name="menuTools"/>
    +      <addaction name="menuWindow"/>
    +      <addaction name="menuHelp"/>
    +    </widget>
    +    <widget class="QStatusBar" name="statusBar"/>
    +    <widget class="QToolBar" name="toolBar">
    +      <property name="windowTitle">
    +        <string>toolBar</string>
    +      </property>
    +      <attribute name="toolBarArea">
    +        <enum>TopToolBarArea</enum>
    +      </attribute>
    +      <attribute name="toolBarBreak">
    +        <bool>false</bool>
    +      </attribute>
    +      <addaction name="actionNewSessionFromScript"/>
    +      <addaction name="actionOpenCheckpoint"/>
    +      <addaction name="actionSaveCheckpoint"/>
    +      <addaction name="separator"/>
    +      <addaction name="actionRunReverse"/>
    +      <addaction name="actionStop"/>
    +      <addaction name="actionRunForward"/>
    +      <addaction name="separator"/>
    +      <addaction name="actionMultithreadingEnabled"/>
    +      <addaction name="actionReverseExecutionEnabled"/>
    +    </widget>
    +    <action name="actionNewEmptySession">
    +      <property name="text">
    +        <string>New Empty Session</string>
    +      </property>
    +      <property name="menuRole">
    +        <enum>QAction::ApplicationSpecificRole</enum>
    +      </property>
    +    </action>
    +    <action name="actionNewSessionFromScript">
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>New session from script</string>
    +      </property>
    +      <property name="shortcut">
    +        <string>Ctrl+N</string>
    +      </property>
    +      <property name="visible">
    +        <bool>true</bool>
    +      </property>
    +      <property name="menuRole">
    +        <enum>QAction::TextHeuristicRole</enum>
    +      </property>
    +    </action>
    +    <action name="actionOpenCheckpoint">
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Open Checkpoint...                       </string>
    +      </property>
    +      <property name="shortcut">
    +        <string>Ctrl+O</string>
    +      </property>
    +    </action>
    +    <action name="actionSaveCheckpoint">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Save Checkpoint...                        </string>
    +      </property>
    +      <property name="shortcut">
    +        <string>Ctrl+S</string>
    +      </property>
    +    </action>
    +    <action name="actionAppendFromScript">
    +      <property name="text">
    +        <string>Append from Script...</string>
    +      </property>
    +    </action>
    +    <action name="actionAppendFromCheckpoint">
    +      <property name="text">
    +        <string>Append from Checkpoint...</string>
    +      </property>
    +    </action>
    +    <action name="actionLoadPresistentState">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Load Presistent State...</string>
    +      </property>
    +    </action>
    +    <action name="actionSavePresistentState">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Save Persistent State...</string>
    +      </property>
    +    </action>
    +    <action name="actionPythonFile">
    +      <property name="text">
    +        <string>Run Python File...</string>
    +      </property>
    +    </action>
    +    <action name="actionCreateWorkspace">
    +      <property name="text">
    +        <string>Create Workspace...</string>
    +      </property>
    +    </action>
    +    <action name="actionChangeWorkspace">
    +      <property name="text">
    +        <string>Change Workspace...</string>
    +      </property>
    +    </action>
    +    <action name="actionExit">
    +      <property name="text">
    +        <string>Exit                                             </string>
    +      </property>
    +      <property name="shortcut">
    +        <string>Alt+F4</string>
    +      </property>
    +    </action>
    +    <action name="actionPreferences">
    +      <property name="text">
    +        <string>Preferences</string>
    +      </property>
    +    </action>
    +    <action name="actionRunForward">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Run the simulation forwards</string>
    +      </property>
    +    </action>
    +    <action name="actionStop">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Stop the simulation</string>
    +      </property>
    +    </action>
    +    <action name="actionRunReverse">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Run the simulation backwards</string>
    +      </property>
    +    </action>
    +    <action name="actionMultithreadingEnabled">
    +      <property name="checkable">
    +        <bool>true</bool>
    +      </property>
    +      <property name="checked">
    +        <bool>true</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Multithreading Enabled</string>
    +      </property>
    +    </action>
    +    <action name="actionReverseExecutionEnabled">
    +      <property name="checkable">
    +        <bool>true</bool>
    +      </property>
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Reverse Execution Enabled</string>
    +      </property>
    +    </action>
    +    <action name="actionDisassembly">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Disassembly</string>
    +      </property>
    +    </action>
    +    <action name="actionStackTrace">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Stack Trace</string>
    +      </property>
    +    </action>
    +    <action name="actionSourceView">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Source View</string>
    +      </property>
    +    </action>
    +    <action name="actionCPURegisters">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>CPU Registers</string>
    +      </property>
    +    </action>
    +    <action name="actionDeviceRegisters">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Device Registers</string>
    +      </property>
    +    </action>
    +    <action name="actionMemoryContents">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Memory Contents</string>
    +      </property>
    +    </action>
    +    <action name="actionCommandLineWindow">
    +      <property name="text">
    +        <string>Command Line Window</string>
    +      </property>
    +    </action>
    +    <action name="actionCommandBrowser">
    +      <property name="text">
    +        <string>Command Browser</string>
    +      </property>
    +    </action>
    +    <action name="actionHapsBrowser">
    +      <property name="text">
    +        <string>Haps Brower</string>
    +      </property>
    +    </action>
    +    <action name="actionObjectBrowser">
    +      <property name="text">
    +        <string>Object Brower</string>
    +      </property>
    +    </action>
    +    <action name="atcionConfigurationBrowser">
    +      <property name="text">
    +        <string>Configuration Brower</string>
    +      </property>
    +    </action>
    +    <action name="actionNewStatisticsPlot">
    +      <property name="text">
    +        <string>New Statistics Plot</string>
    +      </property>
    +    </action>
    +    <action name="actionMemoryMappingsBrowser">
    +      <property name="text">
    +        <string>Memory Mappings Browser</string>
    +      </property>
    +    </action>
    +    <action name="actionMinimizeAllConsoles">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Minimize All Consoles</string>
    +      </property>
    +    </action>
    +    <action name="actionRestoreAllConsoles">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Restore All Consoles</string>
    +      </property>
    +    </action>
    +    <action name="actionOpenAllConsoles">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Open All Consoles</string>
    +      </property>
    +    </action>
    +    <action name="actionCloseAllConsoles">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Close All Consoles</string>
    +      </property>
    +    </action>
    +    <action name="actionNoConsoleWindows">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>&lt;No Console Windows&gt;</string>
    +      </property>
    +    </action>
    +    <action name="actionContents">
    +      <property name="text">
    +        <string>Contents</string>
    +      </property>
    +      <property name="shortcut">
    +        <string>Ctrl+F1</string>
    +      </property>
    +    </action>
    +    <action name="actionGettingStarted">
    +      <property name="text">
    +        <string>Getting Started</string>
    +      </property>
    +    </action>
    +    <action name="actionTechnicalSupport">
    +      <property name="text">
    +        <string>Technical Support</string>
    +      </property>
    +    </action>
    +    <action name="actionBugReportForum">
    +      <property name="text">
    +        <string>Bug Report Forum</string>
    +      </property>
    +    </action>
    +    <action name="actionUserRegistration">
    +      <property name="text">
    +        <string>User Registration</string>
    +      </property>
    +    </action>
    +    <action name="actionVirtutechWebsite">
    +      <property name="text">
    +        <string>AMS Website</string>
    +      </property>
    +    </action>
    +    <action name="actionLicense">
    +      <property name="text">
    +        <string>License</string>
    +      </property>
    +    </action>
    +    <action name="actionAbout">
    +      <property name="text">
    +        <string>About</string>
    +      </property>
    +    </action>
    +    <action name="actionRunTheSimulationBackwards">
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Run the simulation backwards</string>
    +      </property>
    +    </action>
    +    <action name="actionStopTheSimulation">
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Stop the simulation</string>
    +      </property>
    +    </action>
    +    <action name="actionRunTheSimulationForwards">
    +      <property name="icon">
    +        <iconset>
    +        <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +      </property>
    +      <property name="text">
    +        <string>Run the simulation forwards</string>
    +      </property>
    +    </action>
    +    <action name="actionClearInputRecording">
    +      <property name="enabled">
    +        <bool>false</bool>
    +      </property>
    +      <property name="text">
    +        <string>Clear Input Recording</string>
    +      </property>
    +    </action>
       </widget>
    -  <action name="actionNew_Empty_Session">
    -   <property name="text">
    -    <string>New Empty Session</string>
    -   </property>
    -   <property name="menuRole">
    -    <enum>QAction::ApplicationSpecificRole</enum>
    -   </property>
    -  </action>
    -  <action name="New_session_from_script">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/24/im-message-new.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/24/im-message-new.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string/>
    -   </property>
    -  </action>
    -  <action name="actionOpen_Checkpoint">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Open Checkpoint...                       </string>
    -   </property>
    -   <property name="shortcut">
    -    <string>Ctrl+O</string>
    -   </property>
    -  </action>
    -  <action name="actionSave_Checkpoint">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Save Checkpoint...                        </string>
    -   </property>
    -   <property name="shortcut">
    -    <string>Ctrl+S</string>
    -   </property>
    -  </action>
    -  <action name="actionAppend_from_Script">
    -   <property name="text">
    -    <string>Append from Script...</string>
    -   </property>
    -  </action>
    -  <action name="actionAppend_from_Checkpoint">
    -   <property name="text">
    -    <string>Append from Checkpoint...</string>
    -   </property>
    -  </action>
    -  <action name="actionLoad_Presistent_State">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Load Presistent State...</string>
    -   </property>
    -  </action>
    -  <action name="actionSave_Persistent_State">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Save Persistent State...</string>
    -   </property>
    -  </action>
    -  <action name="actionRun_Python_File">
    -   <property name="text">
    -    <string>Run Python File...</string>
    -   </property>
    -  </action>
    -  <action name="actionCreate_Workspace">
    -   <property name="text">
    -    <string>Create Workspace...</string>
    -   </property>
    -  </action>
    -  <action name="actionChange_Workspace">
    -   <property name="text">
    -    <string>Change Workspace...</string>
    -   </property>
    -  </action>
    -  <action name="actionExit">
    -   <property name="text">
    -    <string>Exit                                             </string>
    -   </property>
    -   <property name="shortcut">
    -    <string>Alt+F4</string>
    -   </property>
    -  </action>
    -  <action name="actionPreferences">
    -   <property name="text">
    -    <string>Preferences</string>
    -   </property>
    -  </action>
    -  <action name="actionRun_Forward">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Run the simulation forwards</string>
    -   </property>
    -  </action>
    -  <action name="actionStop">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Stop the simulation</string>
    -   </property>
    -  </action>
    -  <action name="actionRun_Reverse">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Run the simulation backwards</string>
    -   </property>
    -  </action>
    -  <action name="actionMultithreading_Enabled">
    -   <property name="checkable">
    -    <bool>true</bool>
    -   </property>
    -   <property name="checked">
    -    <bool>true</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Multithreading Enabled</string>
    -   </property>
    -  </action>
    -  <action name="actionReverse_Execution_Enabled">
    -   <property name="checkable">
    -    <bool>true</bool>
    -   </property>
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Reverse Execution Enabled</string>
    -   </property>
    -  </action>
    -  <action name="actionDisassembly">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Disassembly</string>
    -   </property>
    -  </action>
    -  <action name="actionStack_Trace">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Stack Trace</string>
    -   </property>
    -  </action>
    -  <action name="actionSource_View">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Source View</string>
    -   </property>
    -  </action>
    -  <action name="actionCPU_Registers">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>CPU Registers</string>
    -   </property>
    -  </action>
    -  <action name="actionDevice_Registers">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Device Registers</string>
    -   </property>
    -  </action>
    -  <action name="actionMemory_Contents">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Memory Contents</string>
    -   </property>
    -  </action>
    -  <action name="actionCommand_Line_Window">
    -   <property name="text">
    -    <string>Command Line Window</string>
    -   </property>
    -  </action>
    -  <action name="actionCommand_Browser">
    -   <property name="text">
    -    <string>Command Browser</string>
    -   </property>
    -  </action>
    -  <action name="actionHaps_Brower">
    -   <property name="text">
    -    <string>Haps Brower</string>
    -   </property>
    -  </action>
    -  <action name="actionObject_Brower">
    -   <property name="text">
    -    <string>Object Brower</string>
    -   </property>
    -  </action>
    -  <action name="actionConfiguration_Brower">
    -   <property name="text">
    -    <string>Configuration Brower</string>
    -   </property>
    -  </action>
    -  <action name="actionNew_Statistics_Plot">
    -   <property name="text">
    -    <string>New Statistics Plot</string>
    -   </property>
    -  </action>
    -  <action name="actionMemory_Mappings_Browser">
    -   <property name="text">
    -    <string>Memory Mappings Browser</string>
    -   </property>
    -  </action>
    -  <action name="actionMinimize_All_Consoles">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Minimize All Consoles</string>
    -   </property>
    -  </action>
    -  <action name="actionRestore_All_Consoles">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Restore All Consoles</string>
    -   </property>
    -  </action>
    -  <action name="actionOpen_All_Consoles">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Open All Consoles</string>
    -   </property>
    -  </action>
    -  <action name="actionClose_All_Consoles">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Close All Consoles</string>
    -   </property>
    -  </action>
    -  <action name="action_No_Console_Windows">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>&lt;No Console Windows&gt;</string>
    -   </property>
    -  </action>
    -  <action name="actionContents">
    -   <property name="text">
    -    <string>Contents</string>
    -   </property>
    -   <property name="shortcut">
    -    <string>Ctrl+F1</string>
    -   </property>
    -  </action>
    -  <action name="actionGetting_Started">
    -   <property name="text">
    -    <string>Getting Started</string>
    -   </property>
    -  </action>
    -  <action name="actionTechnical_Support">
    -   <property name="text">
    -    <string>Technical Support</string>
    -   </property>
    -  </action>
    -  <action name="actionBug_Report_Forum">
    -   <property name="text">
    -    <string>Bug Report Forum</string>
    -   </property>
    -  </action>
    -  <action name="actionUser_Registration">
    -   <property name="text">
    -    <string>User Registration</string>
    -   </property>
    -  </action>
    -  <action name="actionVirtutech_Website">
    -   <property name="text">
    -    <string>AMS Website</string>
    -   </property>
    -  </action>
    -  <action name="actionLicense">
    -   <property name="text">
    -    <string>License</string>
    -   </property>
    -  </action>
    -  <action name="actionAbout">
    -   <property name="text">
    -    <string>About</string>
    -   </property>
    -  </action>
    -  <action name="actionNew_Session_from_Script">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>New session from script</string>
    -   </property>
    -   <property name="shortcut">
    -    <string>Ctrl+N</string>
    -   </property>
    -   <property name="visible">
    -    <bool>true</bool>
    -   </property>
    -   <property name="menuRole">
    -    <enum>QAction::TextHeuristicRole</enum>
    -   </property>
    -  </action>
    -  <action name="actionRun_the_simulation_backwards">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Run the simulation backwards</string>
    -   </property>
    -  </action>
    -  <action name="actionStop_the_simulation">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Stop the simulation</string>
    -   </property>
    -  </action>
    -  <action name="actionRun_the_simulation_forwards">
    -   <property name="icon">
    -    <iconset>
    -     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    -   </property>
    -   <property name="text">
    -    <string>Run the simulation forwards</string>
    -   </property>
    -  </action>
    -  <action name="actionClear_Input_Recording">
    -   <property name="enabled">
    -    <bool>false</bool>
    -   </property>
    -   <property name="text">
    -    <string>Clear Input Recording</string>
    -   </property>
    -  </action>
    - </widget>
    - <resources/>
    - <connections/>
    +  <resources/>
    +  <connections/>
     </ui>

commit 63a8c8cdaff59ced317f7b91f3972fbaa8179281
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Thu Sep 19 21:45:29 2013 +0800

    diff --git a/cli.ui b/cli.ui
    index e69de29..7c308bb 100644
    --- a/cli.ui
    +++ b/cli.ui
    @@ -0,0 +1,34 @@
    +<?xml version="1.0" encoding="UTF-8"?>
    +<ui version="4.0">
    + <class>widget</class>
    + <widget class="QWidget" name="widget">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>694</width>
    +    <height>423</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>Sim Command Line</string>
    +  </property>
    +  <property name="layoutDirection">
    +   <enum>Qt::LeftToRight</enum>
    +  </property>
    +  <layout class="QGridLayout" name="gridLayout">
    +   <item row="0" column="0">
    +    <widget class="QPlainTextEdit" name="plainTextEdit">
    +     <property name="layoutDirection">
    +      <enum>Qt::LeftToRight</enum>
    +     </property>
    +     <property name="autoFillBackground">
    +      <bool>true</bool>
    +     </property>
    +    </widget>
    +   </item>
    +  </layout>
    + </widget>
    + <resources/>
    + <connections/>
    +</ui>
    diff --git a/main.cpp b/main.cpp
    index e69de29..a9a208b 100644
    --- a/main.cpp
    +++ b/main.cpp
    @@ -0,0 +1,14 @@
    +#include "sim_application.h"
    +#include "main_window.h"
    +
    +int main(int argc, char *argv[])
    +{
    +    SimApplication sim_app(argc, argv);
    +    MainWindow *main_w;
    +
    +    main_w = new(MainWindow);
    +    main_w->show();
    +
    +    return simApp->exec();
    +}
    +
    diff --git a/main_window.cpp b/main_window.cpp
    index e69de29..b7379a3 100644
    --- a/main_window.cpp
    +++ b/main_window.cpp
    @@ -0,0 +1,19 @@
    +#include "main_window.h"
    +#include "ui_main_window.h"
    +
    +#include <QAction>
    +#include <QTreeWidget>
    +
    +static MainWindow *gbl_cur_main_window = NULL;
    +
    +MainWindow::MainWindow(QWidget *parent) :
    +    QMainWindow(parent),
    +    main_ui_(new Ui::MainWindow) {
    +    gbl_cur_main_window = this;
    +    main_ui_->setupUi(this);
    +}
    +
    +MainWindow::~MainWindow()
    +{
    +    delete main_ui_;
    +}
    diff --git a/main_window.h b/main_window.h
    index e69de29..318d84e 100644
    --- a/main_window.h
    +++ b/main_window.h
    @@ -0,0 +1,22 @@
    +#ifndef MAIN_WINDOW_H
    +#define MAIN_WINDOW_H
    +
    +#include <QMainWindow>
    +
    +namespace Ui {
    +    class MainWindow;
    +}
    +
    +class MainWindow : public QMainWindow {
    +    Q_OBJECT
    +
    +public:
    +    explicit MainWindow(QWidget *parent = 0);
    +    ~MainWindow();
    +signals:
    +
    +private:
    +    Ui::MainWindow *main_ui_;
    +};
    +
    +#endif
    diff --git a/main_window.ui b/main_window.ui
    index e69de29..4bf2c78 100644
    --- a/main_window.ui
    +++ b/main_window.ui
    @@ -0,0 +1,546 @@
    +<?xml version="1.0" encoding="UTF-8"?>
    +<ui version="4.0">
    + <class>MainWindow</class>
    + <widget class="QMainWindow" name="MainWindow">
    +  <property name="geometry">
    +   <rect>
    +    <x>0</x>
    +    <y>0</y>
    +    <width>407</width>
    +    <height>268</height>
    +   </rect>
    +  </property>
    +  <property name="windowTitle">
    +   <string>Sim Control</string>
    +  </property>
    +  <widget class="QWidget" name="centralwidget">
    +   <layout class="QGridLayout" name="gridLayout">
    +    <item row="0" column="0">
    +     <widget class="QFrame" name="frame">
    +      <property name="frameShape">
    +       <enum>QFrame::StyledPanel</enum>
    +      </property>
    +      <property name="frameShadow">
    +       <enum>QFrame::Raised</enum>
    +      </property>
    +     </widget>
    +    </item>
    +   </layout>
    +  </widget>
    +  <widget class="QMenuBar" name="menubar">
    +   <property name="geometry">
    +    <rect>
    +     <x>0</x>
    +     <y>0</y>
    +     <width>407</width>
    +     <height>27</height>
    +    </rect>
    +   </property>
    +   <widget class="QMenu" name="menuFile">
    +    <property name="title">
    +     <string>File</string>
    +    </property>
    +    <addaction name="actionNew_Empty_Session"/>
    +    <addaction name="actionNew_Session_from_Script"/>
    +    <addaction name="actionOpen_Checkpoint"/>
    +    <addaction name="actionSave_Checkpoint"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionAppend_from_Script"/>
    +    <addaction name="actionAppend_from_Checkpoint"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionLoad_Presistent_State"/>
    +    <addaction name="actionSave_Persistent_State"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionRun_Python_File"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionCreate_Workspace"/>
    +    <addaction name="actionChange_Workspace"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionExit"/>
    +   </widget>
    +   <widget class="QMenu" name="menuEdit">
    +    <property name="title">
    +     <string>Edit</string>
    +    </property>
    +    <addaction name="actionPreferences"/>
    +   </widget>
    +   <widget class="QMenu" name="menuRun">
    +    <property name="title">
    +     <string>Run</string>
    +    </property>
    +    <addaction name="actionRun_Forward"/>
    +    <addaction name="actionStop"/>
    +    <addaction name="actionRun_Reverse"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionMultithreading_Enabled"/>
    +    <addaction name="actionReverse_Execution_Enabled"/>
    +    <addaction name="actionClear_Input_Recording"/>
    +   </widget>
    +   <widget class="QMenu" name="menuDebug">
    +    <property name="title">
    +     <string>Debug</string>
    +    </property>
    +    <addaction name="actionDisassembly"/>
    +    <addaction name="actionStack_Trace"/>
    +    <addaction name="actionSource_View"/>
    +    <addaction name="actionCPU_Registers"/>
    +    <addaction name="actionDevice_Registers"/>
    +    <addaction name="actionMemory_Contents"/>
    +   </widget>
    +   <widget class="QMenu" name="menuTools">
    +    <property name="title">
    +     <string>Tools</string>
    +    </property>
    +    <addaction name="actionCommand_Line_Window"/>
    +    <addaction name="actionCommand_Browser"/>
    +    <addaction name="actionHaps_Brower"/>
    +    <addaction name="actionObject_Brower"/>
    +    <addaction name="actionConfiguration_Brower"/>
    +    <addaction name="actionNew_Statistics_Plot"/>
    +    <addaction name="actionMemory_Mappings_Browser"/>
    +   </widget>
    +   <widget class="QMenu" name="menuWindow">
    +    <property name="title">
    +     <string>Window</string>
    +    </property>
    +    <addaction name="actionMinimize_All_Consoles"/>
    +    <addaction name="actionRestore_All_Consoles"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionOpen_All_Consoles"/>
    +    <addaction name="actionClose_All_Consoles"/>
    +    <addaction name="separator"/>
    +    <addaction name="action_No_Console_Windows"/>
    +   </widget>
    +   <widget class="QMenu" name="menuHelp">
    +    <property name="title">
    +     <string>Help</string>
    +    </property>
    +    <addaction name="actionContents"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionGetting_Started"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionTechnical_Support"/>
    +    <addaction name="actionBug_Report_Forum"/>
    +    <addaction name="actionUser_Registration"/>
    +    <addaction name="actionVirtutech_Website"/>
    +    <addaction name="separator"/>
    +    <addaction name="actionLicense"/>
    +    <addaction name="actionAbout"/>
    +   </widget>
    +   <addaction name="menuFile"/>
    +   <addaction name="menuEdit"/>
    +   <addaction name="menuRun"/>
    +   <addaction name="menuDebug"/>
    +   <addaction name="menuTools"/>
    +   <addaction name="menuWindow"/>
    +   <addaction name="menuHelp"/>
    +  </widget>
    +  <widget class="QStatusBar" name="statusBar"/>
    +  <widget class="QToolBar" name="toolBar">
    +   <property name="windowTitle">
    +    <string>toolBar</string>
    +   </property>
    +   <attribute name="toolBarArea">
    +    <enum>TopToolBarArea</enum>
    +   </attribute>
    +   <attribute name="toolBarBreak">
    +    <bool>false</bool>
    +   </attribute>
    +   <addaction name="actionNew_Session_from_Script"/>
    +   <addaction name="actionOpen_Checkpoint"/>
    +   <addaction name="actionSave_Checkpoint"/>
    +   <addaction name="separator"/>
    +   <addaction name="actionRun_Reverse"/>
    +   <addaction name="actionStop"/>
    +   <addaction name="actionRun_Forward"/>
    +   <addaction name="separator"/>
    +   <addaction name="actionMultithreading_Enabled"/>
    +   <addaction name="actionReverse_Execution_Enabled"/>
    +  </widget>
    +  <action name="actionNew_Empty_Session">
    +   <property name="text">
    +    <string>New Empty Session</string>
    +   </property>
    +   <property name="menuRole">
    +    <enum>QAction::ApplicationSpecificRole</enum>
    +   </property>
    +  </action>
    +  <action name="New_session_from_script">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/24/im-message-new.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/24/im-message-new.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string/>
    +   </property>
    +  </action>
    +  <action name="actionOpen_Checkpoint">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-open.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Open Checkpoint...                       </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+O</string>
    +   </property>
    +  </action>
    +  <action name="actionSave_Checkpoint">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/document-save.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Save Checkpoint...                        </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+S</string>
    +   </property>
    +  </action>
    +  <action name="actionAppend_from_Script">
    +   <property name="text">
    +    <string>Append from Script...</string>
    +   </property>
    +  </action>
    +  <action name="actionAppend_from_Checkpoint">
    +   <property name="text">
    +    <string>Append from Checkpoint...</string>
    +   </property>
    +  </action>
    +  <action name="actionLoad_Presistent_State">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Load Presistent State...</string>
    +   </property>
    +  </action>
    +  <action name="actionSave_Persistent_State">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Save Persistent State...</string>
    +   </property>
    +  </action>
    +  <action name="actionRun_Python_File">
    +   <property name="text">
    +    <string>Run Python File...</string>
    +   </property>
    +  </action>
    +  <action name="actionCreate_Workspace">
    +   <property name="text">
    +    <string>Create Workspace...</string>
    +   </property>
    +  </action>
    +  <action name="actionChange_Workspace">
    +   <property name="text">
    +    <string>Change Workspace...</string>
    +   </property>
    +  </action>
    +  <action name="actionExit">
    +   <property name="text">
    +    <string>Exit                                             </string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Alt+F4</string>
    +   </property>
    +  </action>
    +  <action name="actionPreferences">
    +   <property name="text">
    +    <string>Preferences</string>
    +   </property>
    +  </action>
    +  <action name="actionRun_Forward">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation forwards</string>
    +   </property>
    +  </action>
    +  <action name="actionStop">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Stop the simulation</string>
    +   </property>
    +  </action>
    +  <action name="actionRun_Reverse">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation backwards</string>
    +   </property>
    +  </action>
    +  <action name="actionMultithreading_Enabled">
    +   <property name="checkable">
    +    <bool>true</bool>
    +   </property>
    +   <property name="checked">
    +    <bool>true</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/format-justify-right.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Multithreading Enabled</string>
    +   </property>
    +  </action>
    +  <action name="actionReverse_Execution_Enabled">
    +   <property name="checkable">
    +    <bool>true</bool>
    +   </property>
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/object-rotate-left.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Reverse Execution Enabled</string>
    +   </property>
    +  </action>
    +  <action name="actionDisassembly">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Disassembly</string>
    +   </property>
    +  </action>
    +  <action name="actionStack_Trace">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Stack Trace</string>
    +   </property>
    +  </action>
    +  <action name="actionSource_View">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Source View</string>
    +   </property>
    +  </action>
    +  <action name="actionCPU_Registers">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>CPU Registers</string>
    +   </property>
    +  </action>
    +  <action name="actionDevice_Registers">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Device Registers</string>
    +   </property>
    +  </action>
    +  <action name="actionMemory_Contents">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Memory Contents</string>
    +   </property>
    +  </action>
    +  <action name="actionCommand_Line_Window">
    +   <property name="text">
    +    <string>Command Line Window</string>
    +   </property>
    +  </action>
    +  <action name="actionCommand_Browser">
    +   <property name="text">
    +    <string>Command Browser</string>
    +   </property>
    +  </action>
    +  <action name="actionHaps_Brower">
    +   <property name="text">
    +    <string>Haps Brower</string>
    +   </property>
    +  </action>
    +  <action name="actionObject_Brower">
    +   <property name="text">
    +    <string>Object Brower</string>
    +   </property>
    +  </action>
    +  <action name="actionConfiguration_Brower">
    +   <property name="text">
    +    <string>Configuration Brower</string>
    +   </property>
    +  </action>
    +  <action name="actionNew_Statistics_Plot">
    +   <property name="text">
    +    <string>New Statistics Plot</string>
    +   </property>
    +  </action>
    +  <action name="actionMemory_Mappings_Browser">
    +   <property name="text">
    +    <string>Memory Mappings Browser</string>
    +   </property>
    +  </action>
    +  <action name="actionMinimize_All_Consoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Minimize All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionRestore_All_Consoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Restore All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionOpen_All_Consoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Open All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="actionClose_All_Consoles">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Close All Consoles</string>
    +   </property>
    +  </action>
    +  <action name="action_No_Console_Windows">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>&lt;No Console Windows&gt;</string>
    +   </property>
    +  </action>
    +  <action name="actionContents">
    +   <property name="text">
    +    <string>Contents</string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+F1</string>
    +   </property>
    +  </action>
    +  <action name="actionGetting_Started">
    +   <property name="text">
    +    <string>Getting Started</string>
    +   </property>
    +  </action>
    +  <action name="actionTechnical_Support">
    +   <property name="text">
    +    <string>Technical Support</string>
    +   </property>
    +  </action>
    +  <action name="actionBug_Report_Forum">
    +   <property name="text">
    +    <string>Bug Report Forum</string>
    +   </property>
    +  </action>
    +  <action name="actionUser_Registration">
    +   <property name="text">
    +    <string>User Registration</string>
    +   </property>
    +  </action>
    +  <action name="actionVirtutech_Website">
    +   <property name="text">
    +    <string>AMS Website</string>
    +   </property>
    +  </action>
    +  <action name="actionLicense">
    +   <property name="text">
    +    <string>License</string>
    +   </property>
    +  </action>
    +  <action name="actionAbout">
    +   <property name="text">
    +    <string>About</string>
    +   </property>
    +  </action>
    +  <action name="actionNew_Session_from_Script">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/add.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>New session from script</string>
    +   </property>
    +   <property name="shortcut">
    +    <string>Ctrl+N</string>
    +   </property>
    +   <property name="visible">
    +    <bool>true</bool>
    +   </property>
    +   <property name="menuRole">
    +    <enum>QAction::TextHeuristicRole</enum>
    +   </property>
    +  </action>
    +  <action name="actionRun_the_simulation_backwards">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-ltr.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation backwards</string>
    +   </property>
    +  </action>
    +  <action name="actionStop_the_simulation">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-media-stop.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Stop the simulation</string>
    +   </property>
    +  </action>
    +  <action name="actionRun_the_simulation_forwards">
    +   <property name="icon">
    +    <iconset>
    +     <normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</normaloff>../../.icons/Mac-X-Lion-reload/actions/gtk/gtk-go-back-rtl.png</iconset>
    +   </property>
    +   <property name="text">
    +    <string>Run the simulation forwards</string>
    +   </property>
    +  </action>
    +  <action name="actionClear_Input_Recording">
    +   <property name="enabled">
    +    <bool>false</bool>
    +   </property>
    +   <property name="text">
    +    <string>Clear Input Recording</string>
    +   </property>
    +  </action>
    + </widget>
    + <resources/>
    + <connections/>
    +</ui>
    diff --git a/sim-qt.pro b/sim-qt.pro
    index e69de29..f81c087 100644
    --- a/sim-qt.pro
    +++ b/sim-qt.pro
    @@ -0,0 +1,23 @@
    +######################################################################
    +# Automatically generated by qmake (3.0) ?? 9? 19 21:20:40 2013
    +######################################################################
    +
    +QT       += core gui
    +
    +greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
    +
    +TEMPLATE = app
    +TARGET = sim-qt
    +INCLUDEPATH += .
    +
    +DEFINES += QT_DLL
    +CONFIG  +=  console plugin link_pkgconfig
    +
    +SOURCES += main.cpp\
    +		   main_window.cpp\
    +           sim_application.cpp
    +
    +HEADERS += main_window.h\
    +           sim_application.h\
    +
    +FORMS += cli.ui main_window.ui
    diff --git a/sim_application.cpp b/sim_application.cpp
    index e69de29..ed78339 100644
    --- a/sim_application.cpp
    +++ b/sim_application.cpp
    @@ -0,0 +1,17 @@
    +#include "sim_application.h"
    +
    +#include <QDesktopServices>
    +#include <QDir>
    +#include <QEvent>
    +#include <QFileOpenEvent>
    +#include <QFontMetrics>
    +#include <QTimer>
    +#include <QUrl>
    +
    +SimApplication *simApp = NULL;
    +
    +SimApplication::SimApplication(int &argc,  char **argv) :
    +    QApplication(argc, argv) {
    +    simApp = this;
    +}
    +
    diff --git a/sim_application.h b/sim_application.h
    index e69de29..6522913 100644
    --- a/sim_application.h
    +++ b/sim_application.h
    @@ -0,0 +1,20 @@
    +#ifndef SIMICT_APPLICATION_H
    +#define SIMICT_APPLICATION_H
    +
    +#include <QApplication>
    +
    +class SimApplication : public QApplication {
    +    Q_OBJECT
    +public:
    +    explicit SimApplication(int &argc, char **argv);
    +
    +private:
    +
    +signals:
    +    void newSessionFromScript(QString &ss_path);
    +
    +};
    +
    +extern SimApplication *simApp;
    +
    +#endif

commit 5356c3a1387c673295804567428395cdd8028e4d
Author: Tyrion Lannister <Tyrion.Lannister.274AL@gmail.com>
Date:   Sat Sep 14 06:54:27 2013 -0700

    Initial commit
